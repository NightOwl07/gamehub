import*as e from"alt-client";import{WebView as t,Vector3 as i,Player as s}from"alt-client";import*as n from"natives";import o from"natives";function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{static getInstance(){return new Promise((async e=>{r.webView||(r.webView=await this.createNewInstance()),r.webView.focus(),e(r.webView)}))}static showCursor(t){this.isCursorShown!=t&&(this.isCursorShown=t,e.showCursor(t))}static showModule(e){return new Promise((async(t,i)=>{this.webView.emit("TTT:View:ShowModule",e),await new Promise((t=>{this.webView.on("TTT:View:ModuleMounted",(i=>{i===e&&t()}))})),t()}))}static hideModule(e){return new Promise((async(t,i)=>{this.webView.emit("TTT:View:HideModule",e),await new Promise((t=>{this.webView.on("TTT:View:ModuleUnmouted",(i=>{i===e&&t()}))})),t()}))}static createNewInstance(){return new Promise((async t=>{let i=new e.WebView("http://resource/client/view/index.html");await new Promise((e=>{i.on("TTT:View:Ready",(()=>{e()}))})),t(i)}))}}h(r,"webView",void 0),h(r,"isCursorShown",!1),t.prototype.showModule=function(e){return r.showModule(e)},t.prototype.hideModule=function(e){return r.hideModule(e)};class a{static setPedIntoVehicle(t){n.setPedIntoVehicle(e.Player.local,t.scriptID,-1)}static setVehicleEngineMultiplier(t){e.Player.local.vehicle.handling.acceleration*=t}static toggleGameControls(t,i=!0){e.toggleGameControls(t),r.showCursor(i)}static getClosestVehicle(t,i=100){if(!t||!t.valid)return[void 0,void 0];let s,n;return e.Vehicle.streamedIn.forEach((e=>{var o;const h=t.pos.distanceTo(e.pos);h<=(null!==(o=n)&&void 0!==o?o:i)&&(n=h,s=e)})),[s,n]}static distanceOf(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))}static drawText3d(e,t,i,s,o,h=!0,r=!0,a=0){n.setDrawOrigin(t.x,t.y,t.z,0),n.beginTextCommandDisplayText("STRING"),n.addTextComponentSubstringPlayerName(e),n.setTextFont(s),n.setTextScale(1,i),n.setTextWrap(0,1),n.setTextCentre(!0),n.setTextColour(o.r,o.g,o.b,o.a),h&&n.setTextOutline(),r&&n.setTextDropShadow(),n.endTextCommandDisplayText(0,0,0),n.clearDrawOrigin()}static entityDrawText3d(t,i,s,o,h,r=!0,a=!0,l=!1){const c=e.Player.local.pos,_=n.getEntityVelocity(t),d=n.getFrameTime();n.setDrawOrigin(c.x+_.x*d,c.y+_.y*d,c.z+(_.z*d+(l?.9:1.1)),0),n.beginTextCommandDisplayText("STRING"),n.addTextComponentSubstringPlayerName(i),n.setTextFont(o),n.setTextScale(1,s),n.setTextWrap(0,1),n.setTextCentre(!0),n.setTextColour(h.r,h.g,h.b,h.a),r&&n.setTextOutline(),a&&n.setTextDropShadow(),n.endTextCommandDisplayText(0,0,0),n.clearDrawOrigin()}}class l{constructor(t){var i,s;h(this,"browserInstance",void 0),this.browserInstance=t,e.onServer("TTT:AccountHandler:ShowWelcome",this.onShowWelcome.bind(this)),e.onServer("TTT:AccountHandler:RegisterSuccess",this.onRegisterSuccess.bind(this)),e.onServer("TTT:AccountHandler:LoginSuccess",this.onLoginSuccess.bind(this)),e.onServer("TTT:AccountHandler:AuthenticationFailed",this.onAuthenticationFailed.bind(this)),null===(i=this.browserInstance)||void 0===i||i.on("TTT:LoginView:LoginComplete",this.onViewLoginComplete.bind(this)),null===(s=this.browserInstance)||void 0===s||s.on("TTT:RegisterView:RegisterComplete",this.onViewRegisterComplete.bind(this))}async onShowWelcome(){var e;return null===(e=this.browserInstance)||void 0===e?void 0:e.showModule("welcome").then((()=>{a.toggleGameControls(!1)}))}async onRegisterSuccess(){var e;return null===(e=this.browserInstance)||void 0===e?void 0:e.hideModule("welcome").then((()=>{this.cleanUp()}))}async onLoginSuccess(){var e;return null===(e=this.browserInstance)||void 0===e?void 0:e.hideModule("welcome").then((()=>{this.cleanUp()}))}onAuthenticationFailed(){var e;null===(e=this.browserInstance)||void 0===e||e.emit("TTT:LoginView:StopLoading")}onViewLoginComplete(t,i){e.emitServer("TTT:AccountHandler:Login",t,i)}onViewRegisterComplete(t,i,s){e.emitServer("TTT:AccountHandler:Register",t,i,s)}cleanUp(){a.toggleGameControls(!0,!1),o.destroyAllCams(!1),o.renderScriptCams(!1,!1,0,!0,!1,0)}}class c{constructor(){h(this,"player",void 0),this.player=e.Player.local,e.onServer("TTT:PlayerHandler:SwitchInPlayer",this.onSwitchInPlayer.bind(this)),e.onServer("TTT:PlayerHandler:FadeOutScreen",this.onFadeOutScreen.bind(this)),e.onServer("TTT:PlayerHandler:FadeInScreen",this.onFadeInScreen.bind(this))}onFadeOutScreen(e){n.doScreenFadeOut(e)}onFadeInScreen(e){n.doScreenFadeIn(e)}onSwitchInPlayer(t,i){return new Promise(((s,o)=>{t?(n.setEntityCoords(this.player,i.x,i.y,i.z,!1,!1,!1,!0),n.freezeEntityPosition(e.Player.local.scriptID,!1),n.allowPlayerSwitchDescent(),n.switchInPlayer(this.player)):(n.stopPlayerSwitch(),n.switchOutPlayer(e.Player.local.scriptID,0,1))}))}}const _=[30,31,21,36,22,44,38,71,72,59,60,43,85,86,15,14,228,229,37,44,178,244,220,221,218,219,16,17];class d{constructor(){h(this,"_camId",null),h(this,"_tickId",null),h(this,"_maxSpeed",50),h(this,"_minSpeed",.1),h(this,"_speed",1.5),h(this,"isActive",!1),h(this,"_currentRot",void 0),d._instance}static getInstance(){return d._instance||(d._instance=new d),d._instance}toggle(){if(this.isActive){n.resetEntityAlpha(e.Player.local.scriptID),null!=this._tickId&&(e.clearEveryTick(this._tickId),this._tickId=null),null!=this._camId&&(n.renderScriptCams(!1,!1,0,!0,!1,0),n.setCamActive(this._camId,!1),n.destroyCam(this._camId,!1),this._camId=null);let[t,i]=n.getGroundZFor3dCoord(e.Player.local.pos.x,e.Player.local.pos.y,e.Player.local.pos.z,e.Player.local.pos.z+1,!0,!0);n.setEntityCoords(e.Player.local.scriptID,e.Player.local.pos.x,e.Player.local.pos.y,i+1,!1,!1,!1,!1),n.freezeEntityPosition(e.Player.local.scriptID,!1),this.isActive=!1}else n.setEntityAlpha(e.Player.local.scriptID,0,!1),n.freezeEntityPosition(e.Player.local.scriptID,!0),this._tickId=e.everyTick(this.handleCamera.bind(this)),this.isActive=!0}handleCamera(){if(n.isPauseMenuActive())return;null==this._camId&&(n.destroyAllCams(!0),this._camId=n.createCamWithParams("DEFAULT_SCRIPTED_CAMERA",e.Player.local.pos.x,e.Player.local.pos.y,e.Player.local.pos.z,0,0,0,90,void 0,2),n.setCamActive(this._camId,!0),n.renderScriptCams(!0,!1,0,!0,!1,0),n.setCamAffectsAiming(this._camId,!1)),_.forEach((e=>{n.disableControlAction(0,e,!0)})),n.disableFirstPersonCamThisFrame(),n.blockWeaponWheelThisFrame(),n.isDisabledControlJustPressed(0,14)&&(this._speed*=1.25,this._speed=parseFloat(this._speed.toFixed(2)),this._speed>this._maxSpeed&&(this._speed=this._maxSpeed)),n.isDisabledControlJustPressed(0,15)&&(this._speed*=.75,this._speed=parseFloat(this._speed.toFixed(2)),this._speed<this._minSpeed&&(this._speed=this._minSpeed));const t=n.getDisabledControlNormal(0,220),s=n.getDisabledControlNormal(0,221),o=n.getDisabledControlNormal(0,218),h=n.getDisabledControlNormal(0,219),r=n.isDisabledControlPressed(0,21)?2*this._speed:this._speed,a=n.getCamCoord(this._camId),l=n.getCamRot(this._camId,2),c=this.rotationToDirection(l),d=this.getCrossProduct(this.getNormalizedVector(c),this.getNormalizedVector(new i(0,0,1))),u=new e.Vector3(c.x*h*r,c.y*h*r,c.z*h*(r/1.5)),O=new e.Vector3(d.x*o*r,d.y*o*r,d.z*o*r),R=new e.Vector3(a.x-u.x+O.x,a.y-u.y+O.y,a.z-u.z+O.z+(n.isDisabledControlPressed(0,38)?this._speed:0)-(n.isDisabledControlPressed(0,44)?this._speed:0));this._currentRot=new i(this.clamp(l.x+-5*s,-90,90),0,l.z+-5*t),n.setCamCoord(this._camId,R.x,R.y,R.z),n.setCamRot(this._camId,this.clamp(l.x+-5*s,-90,90),0,l.z+-5*t,2),n.setEntityCoords(e.Player.local.scriptID,R.x,R.y,R.z-1,!1,!1,!1,!1);let m=n.getEntityHeading(e.Player.local.scriptID);n.setEntityRotation(e.Player.local.scriptID,0,0,l.z+s,2,!0),n.setGameplayCamRelativeHeading(m-n.getEntityHeading(e.Player.local.scriptID))}clamp(e,t,i){return e<t?t:e>i?i:e}rotationToDirection(t){const i=t.z*Math.PI/180,s=t.x*Math.PI/180,n=Math.abs(Math.cos(s));return new e.Vector3(-Math.sin(i)*n,Math.cos(i)*n,Math.sin(s))}getNormalizedVector(t){const i=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z);return new e.Vector3(t.x/i,t.y/i,t.z/i)}getCrossProduct(t,i){return new e.Vector3(t.y*i.z-t.z*i.y,t.z*i.x-t.x*i.z,t.x*i.y-t.y*i.x)}getInfo(){e.log(n.getCamCoord(this._camId)),e.log(this._currentRot)}}h(d,"_instance",void 0);class u{constructor(){e.on("consoleCommand",this.onConsoleCommand.bind(this))}onConsoleCommand(t){switch(t){case"pos":e.log(e.Player.local.pos);break;case"noclippos":d.getInstance().getInfo();break;case"noclip":d.getInstance().toggle()}}}var O;!function(e){e[e.None=0]="None",e[e.BronzeMedal=1]="BronzeMedal",e[e.GoldMedal=2]="GoldMedal",e[e.SilverMedal=3]="SilverMedal",e[e.Alert=4]="Alert",e[e.Crown=5]="Crown",e[e.Ammo=6]="Ammo",e[e.Armour=7]="Armour",e[e.Barber=8]="Barber",e[e.Clothes=9]="Clothes",e[e.Franklin=10]="Franklin",e[e.Bike=11]="Bike",e[e.Car=12]="Car",e[e.Gun=13]="Gun",e[e.Heart=14]="Heart",e[e.Makeup=15]="Makeup",e[e.Mask=16]="Mask",e[e.Michael=17]="Michael",e[e.Star=18]="Star",e[e.Tattoo=19]="Tattoo",e[e.Trevor=20]="Trevor",e[e.Lock=21]="Lock",e[e.Tick=22]="Tick",e[e.Sale=23]="Sale",e[e.ArrowLeft=24]="ArrowLeft",e[e.ArrowRight=25]="ArrowRight",e[e.Audio1=26]="Audio1",e[e.Audio2=27]="Audio2",e[e.Audio3=28]="Audio3",e[e.AudioInactive=29]="AudioInactive",e[e.AudioMute=30]="AudioMute"}(O||(O={}));var R,m=O;!function(e){e[e.ChaletLondon=0]="ChaletLondon",e[e.HouseScript=1]="HouseScript",e[e.Monospace=2]="Monospace",e[e.CharletComprimeColonge=4]="CharletComprimeColonge",e[e.ChaletLondonFixedWidthNumbers=5]="ChaletLondonFixedWidthNumbers",e[e.Pricedown=7]="Pricedown"}(R||(R={}));var C,L=R;!function(e){e[e.Left=0]="Left",e[e.Centered=1]="Centered",e[e.Right=2]="Right"}(C||(C={}));var p,U=C;!function(e){e[e.NextCamera=0]="NextCamera",e[e.LookLeftRight=1]="LookLeftRight",e[e.LookUpDown=2]="LookUpDown",e[e.LookUpOnly=3]="LookUpOnly",e[e.LookDownOnly=4]="LookDownOnly",e[e.LookLeftOnly=5]="LookLeftOnly",e[e.LookRightOnly=6]="LookRightOnly",e[e.CinematicSlowMo=7]="CinematicSlowMo",e[e.FlyUpDown=8]="FlyUpDown",e[e.FlyLeftRight=9]="FlyLeftRight",e[e.ScriptedFlyZUp=10]="ScriptedFlyZUp",e[e.ScriptedFlyZDown=11]="ScriptedFlyZDown",e[e.WeaponWheelUpDown=12]="WeaponWheelUpDown",e[e.WeaponWheelLeftRight=13]="WeaponWheelLeftRight",e[e.WeaponWheelNext=14]="WeaponWheelNext",e[e.WeaponWheelPrev=15]="WeaponWheelPrev",e[e.SelectNextWeapon=16]="SelectNextWeapon",e[e.SelectPrevWeapon=17]="SelectPrevWeapon",e[e.SkipCutscene=18]="SkipCutscene",e[e.CharacterWheel=19]="CharacterWheel",e[e.MultiplayerInfo=20]="MultiplayerInfo",e[e.Sprint=21]="Sprint",e[e.Jump=22]="Jump",e[e.Enter=23]="Enter",e[e.Attack=24]="Attack",e[e.Aim=25]="Aim",e[e.LookBehind=26]="LookBehind",e[e.Phone=27]="Phone",e[e.SpecialAbility=28]="SpecialAbility",e[e.SpecialAbilitySecondary=29]="SpecialAbilitySecondary",e[e.MoveLeftRight=30]="MoveLeftRight",e[e.MoveUpDown=31]="MoveUpDown",e[e.MoveUpOnly=32]="MoveUpOnly",e[e.MoveDownOnly=33]="MoveDownOnly",e[e.MoveLeftOnly=34]="MoveLeftOnly",e[e.MoveRightOnly=35]="MoveRightOnly",e[e.Duck=36]="Duck",e[e.SelectWeapon=37]="SelectWeapon",e[e.Pickup=38]="Pickup",e[e.SniperZoom=39]="SniperZoom",e[e.SniperZoomInOnly=40]="SniperZoomInOnly",e[e.SniperZoomOutOnly=41]="SniperZoomOutOnly",e[e.SniperZoomInSecondary=42]="SniperZoomInSecondary",e[e.SniperZoomOutSecondary=43]="SniperZoomOutSecondary",e[e.Cover=44]="Cover",e[e.Reload=45]="Reload",e[e.Talk=46]="Talk",e[e.Detonate=47]="Detonate",e[e.HUDSpecial=48]="HUDSpecial",e[e.Arrest=49]="Arrest",e[e.AccurateAim=50]="AccurateAim",e[e.Context=51]="Context",e[e.ContextSecondary=52]="ContextSecondary",e[e.WeaponSpecial=53]="WeaponSpecial",e[e.WeaponSpecial2=54]="WeaponSpecial2",e[e.Dive=55]="Dive",e[e.DropWeapon=56]="DropWeapon",e[e.DropAmmo=57]="DropAmmo",e[e.ThrowGrenade=58]="ThrowGrenade",e[e.VehicleMoveLeftRight=59]="VehicleMoveLeftRight",e[e.VehicleMoveUpDown=60]="VehicleMoveUpDown",e[e.VehicleMoveUpOnly=61]="VehicleMoveUpOnly",e[e.VehicleMoveDownOnly=62]="VehicleMoveDownOnly",e[e.VehicleMoveLeftOnly=63]="VehicleMoveLeftOnly",e[e.VehicleMoveRightOnly=64]="VehicleMoveRightOnly",e[e.VehicleSpecial=65]="VehicleSpecial",e[e.VehicleGunLeftRight=66]="VehicleGunLeftRight",e[e.VehicleGunUpDown=67]="VehicleGunUpDown",e[e.VehicleAim=68]="VehicleAim",e[e.VehicleAttack=69]="VehicleAttack",e[e.VehicleAttack2=70]="VehicleAttack2",e[e.VehicleAccelerate=71]="VehicleAccelerate",e[e.VehicleBrake=72]="VehicleBrake",e[e.VehicleDuck=73]="VehicleDuck",e[e.VehicleHeadlight=74]="VehicleHeadlight",e[e.VehicleExit=75]="VehicleExit",e[e.VehicleHandbrake=76]="VehicleHandbrake",e[e.VehicleHotwireLeft=77]="VehicleHotwireLeft",e[e.VehicleHotwireRight=78]="VehicleHotwireRight",e[e.VehicleLookBehind=79]="VehicleLookBehind",e[e.VehicleCinCam=80]="VehicleCinCam",e[e.VehicleNextRadio=81]="VehicleNextRadio",e[e.VehiclePrevRadio=82]="VehiclePrevRadio",e[e.VehicleNextRadioTrack=83]="VehicleNextRadioTrack",e[e.VehiclePrevRadioTrack=84]="VehiclePrevRadioTrack",e[e.VehicleRadioWheel=85]="VehicleRadioWheel",e[e.VehicleHorn=86]="VehicleHorn",e[e.VehicleFlyThrottleUp=87]="VehicleFlyThrottleUp",e[e.VehicleFlyThrottleDown=88]="VehicleFlyThrottleDown",e[e.VehicleFlyYawLeft=89]="VehicleFlyYawLeft",e[e.VehicleFlyYawRight=90]="VehicleFlyYawRight",e[e.VehiclePassengerAim=91]="VehiclePassengerAim",e[e.VehiclePassengerAttack=92]="VehiclePassengerAttack",e[e.VehicleSpecialAbilityFranklin=93]="VehicleSpecialAbilityFranklin",e[e.VehicleStuntUpDown=94]="VehicleStuntUpDown",e[e.VehicleCinematicUpDown=95]="VehicleCinematicUpDown",e[e.VehicleCinematicUpOnly=96]="VehicleCinematicUpOnly",e[e.VehicleCinematicDownOnly=97]="VehicleCinematicDownOnly",e[e.VehicleCinematicLeftRight=98]="VehicleCinematicLeftRight",e[e.VehicleSelectNextWeapon=99]="VehicleSelectNextWeapon",e[e.VehicleSelectPrevWeapon=100]="VehicleSelectPrevWeapon",e[e.VehicleRoof=101]="VehicleRoof",e[e.VehicleJump=102]="VehicleJump",e[e.VehicleGrapplingHook=103]="VehicleGrapplingHook",e[e.VehicleShuffle=104]="VehicleShuffle",e[e.VehicleDropProjectile=105]="VehicleDropProjectile",e[e.VehicleMouseControlOverride=106]="VehicleMouseControlOverride",e[e.VehicleFlyRollLeftRight=107]="VehicleFlyRollLeftRight",e[e.VehicleFlyRollLeftOnly=108]="VehicleFlyRollLeftOnly",e[e.VehicleFlyRollRightOnly=109]="VehicleFlyRollRightOnly",e[e.VehicleFlyPitchUpDown=110]="VehicleFlyPitchUpDown",e[e.VehicleFlyPitchUpOnly=111]="VehicleFlyPitchUpOnly",e[e.VehicleFlyPitchDownOnly=112]="VehicleFlyPitchDownOnly",e[e.VehicleFlyUnderCarriage=113]="VehicleFlyUnderCarriage",e[e.VehicleFlyAttack=114]="VehicleFlyAttack",e[e.VehicleFlySelectNextWeapon=115]="VehicleFlySelectNextWeapon",e[e.VehicleFlySelectPrevWeapon=116]="VehicleFlySelectPrevWeapon",e[e.VehicleFlySelectTargetLeft=117]="VehicleFlySelectTargetLeft",e[e.VehicleFlySelectTargetRight=118]="VehicleFlySelectTargetRight",e[e.VehicleFlyVerticalFlightMode=119]="VehicleFlyVerticalFlightMode",e[e.VehicleFlyDuck=120]="VehicleFlyDuck",e[e.VehicleFlyAttackCamera=121]="VehicleFlyAttackCamera",e[e.VehicleFlyMouseControlOverride=122]="VehicleFlyMouseControlOverride",e[e.VehicleSubTurnLeftRight=123]="VehicleSubTurnLeftRight",e[e.VehicleSubTurnLeftOnly=124]="VehicleSubTurnLeftOnly",e[e.VehicleSubTurnRightOnly=125]="VehicleSubTurnRightOnly",e[e.VehicleSubPitchUpDown=126]="VehicleSubPitchUpDown",e[e.VehicleSubPitchUpOnly=127]="VehicleSubPitchUpOnly",e[e.VehicleSubPitchDownOnly=128]="VehicleSubPitchDownOnly",e[e.VehicleSubThrottleUp=129]="VehicleSubThrottleUp",e[e.VehicleSubThrottleDown=130]="VehicleSubThrottleDown",e[e.VehicleSubAscend=131]="VehicleSubAscend",e[e.VehicleSubDescend=132]="VehicleSubDescend",e[e.VehicleSubTurnHardLeft=133]="VehicleSubTurnHardLeft",e[e.VehicleSubTurnHardRight=134]="VehicleSubTurnHardRight",e[e.VehicleSubMouseControlOverride=135]="VehicleSubMouseControlOverride",e[e.VehiclePushbikePedal=136]="VehiclePushbikePedal",e[e.VehiclePushbikeSprint=137]="VehiclePushbikeSprint",e[e.VehiclePushbikeFrontBrake=138]="VehiclePushbikeFrontBrake",e[e.VehiclePushbikeRearBrake=139]="VehiclePushbikeRearBrake",e[e.MeleeAttackLight=140]="MeleeAttackLight",e[e.MeleeAttackHeavy=141]="MeleeAttackHeavy",e[e.MeleeAttackAlternate=142]="MeleeAttackAlternate",e[e.MeleeBlock=143]="MeleeBlock",e[e.ParachuteDeploy=144]="ParachuteDeploy",e[e.ParachuteDetach=145]="ParachuteDetach",e[e.ParachuteTurnLeftRight=146]="ParachuteTurnLeftRight",e[e.ParachuteTurnLeftOnly=147]="ParachuteTurnLeftOnly",e[e.ParachuteTurnRightOnly=148]="ParachuteTurnRightOnly",e[e.ParachutePitchUpDown=149]="ParachutePitchUpDown",e[e.ParachutePitchUpOnly=150]="ParachutePitchUpOnly",e[e.ParachutePitchDownOnly=151]="ParachutePitchDownOnly",e[e.ParachuteBrakeLeft=152]="ParachuteBrakeLeft",e[e.ParachuteBrakeRight=153]="ParachuteBrakeRight",e[e.ParachuteSmoke=154]="ParachuteSmoke",e[e.ParachutePrecisionLanding=155]="ParachutePrecisionLanding",e[e.Map=156]="Map",e[e.SelectWeaponUnarmed=157]="SelectWeaponUnarmed",e[e.SelectWeaponMelee=158]="SelectWeaponMelee",e[e.SelectWeaponHandgun=159]="SelectWeaponHandgun",e[e.SelectWeaponShotgun=160]="SelectWeaponShotgun",e[e.SelectWeaponSmg=161]="SelectWeaponSmg",e[e.SelectWeaponAutoRifle=162]="SelectWeaponAutoRifle",e[e.SelectWeaponSniper=163]="SelectWeaponSniper",e[e.SelectWeaponHeavy=164]="SelectWeaponHeavy",e[e.SelectWeaponSpecial=165]="SelectWeaponSpecial",e[e.SelectCharacterMichael=166]="SelectCharacterMichael",e[e.SelectCharacterFranklin=167]="SelectCharacterFranklin",e[e.SelectCharacterTrevor=168]="SelectCharacterTrevor",e[e.SelectCharacterMultiplayer=169]="SelectCharacterMultiplayer",e[e.SaveReplayClip=170]="SaveReplayClip",e[e.SpecialAbilityPC=171]="SpecialAbilityPC",e[e.PhoneUp=172]="PhoneUp",e[e.PhoneDown=173]="PhoneDown",e[e.PhoneLeft=174]="PhoneLeft",e[e.PhoneRight=175]="PhoneRight",e[e.PhoneSelect=176]="PhoneSelect",e[e.PhoneCancel=177]="PhoneCancel",e[e.PhoneOption=178]="PhoneOption",e[e.PhoneExtraOption=179]="PhoneExtraOption",e[e.PhoneScrollForward=180]="PhoneScrollForward",e[e.PhoneScrollBackward=181]="PhoneScrollBackward",e[e.PhoneCameraFocusLock=182]="PhoneCameraFocusLock",e[e.PhoneCameraGrid=183]="PhoneCameraGrid",e[e.PhoneCameraSelfie=184]="PhoneCameraSelfie",e[e.PhoneCameraDOF=185]="PhoneCameraDOF",e[e.PhoneCameraExpression=186]="PhoneCameraExpression",e[e.FrontendDown=187]="FrontendDown",e[e.FrontendUp=188]="FrontendUp",e[e.FrontendLeft=189]="FrontendLeft",e[e.FrontendRight=190]="FrontendRight",e[e.FrontendRdown=191]="FrontendRdown",e[e.FrontendRup=192]="FrontendRup",e[e.FrontendRleft=193]="FrontendRleft",e[e.FrontendRright=194]="FrontendRright",e[e.FrontendAxisX=195]="FrontendAxisX",e[e.FrontendAxisY=196]="FrontendAxisY",e[e.FrontendRightAxisX=197]="FrontendRightAxisX",e[e.FrontendRightAxisY=198]="FrontendRightAxisY",e[e.FrontendPause=199]="FrontendPause",e[e.FrontendPauseAlternate=200]="FrontendPauseAlternate",e[e.FrontendAccept=201]="FrontendAccept",e[e.FrontendCancel=202]="FrontendCancel",e[e.FrontendX=203]="FrontendX",e[e.FrontendY=204]="FrontendY",e[e.FrontendLb=205]="FrontendLb",e[e.FrontendRb=206]="FrontendRb",e[e.FrontendLt=207]="FrontendLt",e[e.FrontendRt=208]="FrontendRt",e[e.FrontendLs=209]="FrontendLs",e[e.FrontendRs=210]="FrontendRs",e[e.FrontendLeaderboard=211]="FrontendLeaderboard",e[e.FrontendSocialClub=212]="FrontendSocialClub",e[e.FrontendSocialClubSecondary=213]="FrontendSocialClubSecondary",e[e.FrontendDelete=214]="FrontendDelete",e[e.FrontendEndscreenAccept=215]="FrontendEndscreenAccept",e[e.FrontendEndscreenExpand=216]="FrontendEndscreenExpand",e[e.FrontendSelect=217]="FrontendSelect",e[e.ScriptLeftAxisX=218]="ScriptLeftAxisX",e[e.ScriptLeftAxisY=219]="ScriptLeftAxisY",e[e.ScriptRightAxisX=220]="ScriptRightAxisX",e[e.ScriptRightAxisY=221]="ScriptRightAxisY",e[e.ScriptRUp=222]="ScriptRUp",e[e.ScriptRDown=223]="ScriptRDown",e[e.ScriptRLeft=224]="ScriptRLeft",e[e.ScriptRRight=225]="ScriptRRight",e[e.ScriptLB=226]="ScriptLB",e[e.ScriptRB=227]="ScriptRB",e[e.ScriptLT=228]="ScriptLT",e[e.ScriptRT=229]="ScriptRT",e[e.ScriptLS=230]="ScriptLS",e[e.ScriptRS=231]="ScriptRS",e[e.ScriptPadUp=232]="ScriptPadUp",e[e.ScriptPadDown=233]="ScriptPadDown",e[e.ScriptPadLeft=234]="ScriptPadLeft",e[e.ScriptPadRight=235]="ScriptPadRight",e[e.ScriptSelect=236]="ScriptSelect",e[e.CursorAccept=237]="CursorAccept",e[e.CursorCancel=238]="CursorCancel",e[e.CursorX=239]="CursorX",e[e.CursorY=240]="CursorY",e[e.CursorScrollUp=241]="CursorScrollUp",e[e.CursorScrollDown=242]="CursorScrollDown",e[e.EnterCheatCode=243]="EnterCheatCode",e[e.InteractionMenu=244]="InteractionMenu",e[e.MpTextChatAll=245]="MpTextChatAll",e[e.MpTextChatTeam=246]="MpTextChatTeam",e[e.MpTextChatFriends=247]="MpTextChatFriends",e[e.MpTextChatCrew=248]="MpTextChatCrew",e[e.PushToTalk=249]="PushToTalk",e[e.CreatorLS=250]="CreatorLS",e[e.CreatorRS=251]="CreatorRS",e[e.CreatorLT=252]="CreatorLT",e[e.CreatorRT=253]="CreatorRT",e[e.CreatorMenuToggle=254]="CreatorMenuToggle",e[e.CreatorAccept=255]="CreatorAccept",e[e.CreatorDelete=256]="CreatorDelete",e[e.Attack2=257]="Attack2",e[e.RappelJump=258]="RappelJump",e[e.RappelLongJump=259]="RappelLongJump",e[e.RappelSmashWindow=260]="RappelSmashWindow",e[e.PrevWeapon=261]="PrevWeapon",e[e.NextWeapon=262]="NextWeapon",e[e.MeleeAttack1=263]="MeleeAttack1",e[e.MeleeAttack2=264]="MeleeAttack2",e[e.Whistle=265]="Whistle",e[e.MoveLeft=266]="MoveLeft",e[e.MoveRight=267]="MoveRight",e[e.MoveUp=268]="MoveUp",e[e.MoveDown=269]="MoveDown",e[e.LookLeft=270]="LookLeft",e[e.LookRight=271]="LookRight",e[e.LookUp=272]="LookUp",e[e.LookDown=273]="LookDown",e[e.SniperZoomIn=274]="SniperZoomIn",e[e.SniperZoomOut=275]="SniperZoomOut",e[e.SniperZoomInAlternate=276]="SniperZoomInAlternate",e[e.SniperZoomOutAlternate=277]="SniperZoomOutAlternate",e[e.VehicleMoveLeft=278]="VehicleMoveLeft",e[e.VehicleMoveRight=279]="VehicleMoveRight",e[e.VehicleMoveUp=280]="VehicleMoveUp",e[e.VehicleMoveDown=281]="VehicleMoveDown",e[e.VehicleGunLeft=282]="VehicleGunLeft",e[e.VehicleGunRight=283]="VehicleGunRight",e[e.VehicleGunUp=284]="VehicleGunUp",e[e.VehicleGunDown=285]="VehicleGunDown",e[e.VehicleLookLeft=286]="VehicleLookLeft",e[e.VehicleLookRight=287]="VehicleLookRight",e[e.ReplayStartStopRecording=288]="ReplayStartStopRecording",e[e.ReplayStartStopRecordingSecondary=289]="ReplayStartStopRecordingSecondary",e[e.ScaledLookLeftRight=290]="ScaledLookLeftRight",e[e.ScaledLookUpDown=291]="ScaledLookUpDown",e[e.ScaledLookUpOnly=292]="ScaledLookUpOnly",e[e.ScaledLookDownOnly=293]="ScaledLookDownOnly",e[e.ScaledLookLeftOnly=294]="ScaledLookLeftOnly",e[e.ScaledLookRightOnly=295]="ScaledLookRightOnly",e[e.ReplayMarkerDelete=296]="ReplayMarkerDelete",e[e.ReplayClipDelete=297]="ReplayClipDelete",e[e.ReplayPause=298]="ReplayPause",e[e.ReplayRewind=299]="ReplayRewind",e[e.ReplayFfwd=300]="ReplayFfwd",e[e.ReplayNewmarker=301]="ReplayNewmarker",e[e.ReplayRecord=302]="ReplayRecord",e[e.ReplayScreenshot=303]="ReplayScreenshot",e[e.ReplayHidehud=304]="ReplayHidehud",e[e.ReplayStartpoint=305]="ReplayStartpoint",e[e.ReplayEndpoint=306]="ReplayEndpoint",e[e.ReplayAdvance=307]="ReplayAdvance",e[e.ReplayBack=308]="ReplayBack",e[e.ReplayTools=309]="ReplayTools",e[e.ReplayRestart=310]="ReplayRestart",e[e.ReplayShowhotkey=311]="ReplayShowhotkey",e[e.ReplayCycleMarkerLeft=312]="ReplayCycleMarkerLeft",e[e.ReplayCycleMarkerRight=313]="ReplayCycleMarkerRight",e[e.ReplayFOVIncrease=314]="ReplayFOVIncrease",e[e.ReplayFOVDecrease=315]="ReplayFOVDecrease",e[e.ReplayCameraUp=316]="ReplayCameraUp",e[e.ReplayCameraDown=317]="ReplayCameraDown",e[e.ReplaySave=318]="ReplaySave",e[e.ReplayToggletime=319]="ReplayToggletime",e[e.ReplayToggletips=320]="ReplayToggletips",e[e.ReplayPreview=321]="ReplayPreview",e[e.ReplayToggleTimeline=322]="ReplayToggleTimeline",e[e.ReplayTimelinePickupClip=323]="ReplayTimelinePickupClip",e[e.ReplayTimelineDuplicateClip=324]="ReplayTimelineDuplicateClip",e[e.ReplayTimelinePlaceClip=325]="ReplayTimelinePlaceClip",e[e.ReplayCtrl=326]="ReplayCtrl",e[e.ReplayTimelineSave=327]="ReplayTimelineSave",e[e.ReplayPreviewAudio=328]="ReplayPreviewAudio",e[e.VehicleDriveLook=329]="VehicleDriveLook",e[e.VehicleDriveLook2=330]="VehicleDriveLook2",e[e.VehicleFlyAttack2=331]="VehicleFlyAttack2",e[e.RadioWheelUpDown=332]="RadioWheelUpDown",e[e.RadioWheelLeftRight=333]="RadioWheelLeftRight",e[e.VehicleSlowMoUpDown=334]="VehicleSlowMoUpDown",e[e.VehicleSlowMoUpOnly=335]="VehicleSlowMoUpOnly",e[e.VehicleSlowMoDownOnly=336]="VehicleSlowMoDownOnly",e[e.MapPointOfInterest=337]="MapPointOfInterest",e[e.ReplaySnapmaticPhoto=338]="ReplaySnapmaticPhoto",e[e.VehicleCarJump=339]="VehicleCarJump",e[e.VehicleRocketBoost=340]="VehicleRocketBoost",e[e.VehicleParachute=341]="VehicleParachute",e[e.VehicleBikeWings=342]="VehicleBikeWings",e[e.VehicleFlyBombBay=343]="VehicleFlyBombBay",e[e.VehicleFlyCounter=344]="VehicleFlyCounter",e[e.VehicleFlyTransform=345]="VehicleFlyTransform"}(p||(p={}));var D,S,T=p;!function(e){e[e.HUD_COLOUR_PURE_WHITE=0]="HUD_COLOUR_PURE_WHITE",e[e.HUD_COLOUR_WHITE=1]="HUD_COLOUR_WHITE",e[e.HUD_COLOUR_BLACK=2]="HUD_COLOUR_BLACK",e[e.HUD_COLOUR_GREY=3]="HUD_COLOUR_GREY",e[e.HUD_COLOUR_GREYLIGHT=4]="HUD_COLOUR_GREYLIGHT",e[e.HUD_COLOUR_GREYDARK=5]="HUD_COLOUR_GREYDARK",e[e.HUD_COLOUR_RED=6]="HUD_COLOUR_RED",e[e.HUD_COLOUR_REDLIGHT=7]="HUD_COLOUR_REDLIGHT",e[e.HUD_COLOUR_REDDARK=8]="HUD_COLOUR_REDDARK",e[e.HUD_COLOUR_BLUE=9]="HUD_COLOUR_BLUE",e[e.HUD_COLOUR_BLUELIGHT=10]="HUD_COLOUR_BLUELIGHT",e[e.HUD_COLOUR_BLUEDARK=11]="HUD_COLOUR_BLUEDARK",e[e.HUD_COLOUR_YELLOW=12]="HUD_COLOUR_YELLOW",e[e.HUD_COLOUR_YELLOWLIGHT=13]="HUD_COLOUR_YELLOWLIGHT",e[e.HUD_COLOUR_YELLOWDARK=14]="HUD_COLOUR_YELLOWDARK",e[e.HUD_COLOUR_ORANGE=15]="HUD_COLOUR_ORANGE",e[e.HUD_COLOUR_ORANGELIGHT=16]="HUD_COLOUR_ORANGELIGHT",e[e.HUD_COLOUR_ORANGEDARK=17]="HUD_COLOUR_ORANGEDARK",e[e.HUD_COLOUR_GREEN=18]="HUD_COLOUR_GREEN",e[e.HUD_COLOUR_GREENLIGHT=19]="HUD_COLOUR_GREENLIGHT",e[e.HUD_COLOUR_GREENDARK=20]="HUD_COLOUR_GREENDARK",e[e.HUD_COLOUR_PURPLE=21]="HUD_COLOUR_PURPLE",e[e.HUD_COLOUR_PURPLELIGHT=22]="HUD_COLOUR_PURPLELIGHT",e[e.HUD_COLOUR_PURPLEDARK=23]="HUD_COLOUR_PURPLEDARK",e[e.HUD_COLOUR_PINK=24]="HUD_COLOUR_PINK",e[e.HUD_COLOUR_RADAR_HEALTH=25]="HUD_COLOUR_RADAR_HEALTH",e[e.HUD_COLOUR_RADAR_ARMOUR=26]="HUD_COLOUR_RADAR_ARMOUR",e[e.HUD_COLOUR_RADAR_DAMAGE=27]="HUD_COLOUR_RADAR_DAMAGE",e[e.HUD_COLOUR_NET_PLAYER1=28]="HUD_COLOUR_NET_PLAYER1",e[e.HUD_COLOUR_NET_PLAYER2=29]="HUD_COLOUR_NET_PLAYER2",e[e.HUD_COLOUR_NET_PLAYER3=30]="HUD_COLOUR_NET_PLAYER3",e[e.HUD_COLOUR_NET_PLAYER4=31]="HUD_COLOUR_NET_PLAYER4",e[e.HUD_COLOUR_NET_PLAYER5=32]="HUD_COLOUR_NET_PLAYER5",e[e.HUD_COLOUR_NET_PLAYER6=33]="HUD_COLOUR_NET_PLAYER6",e[e.HUD_COLOUR_NET_PLAYER7=34]="HUD_COLOUR_NET_PLAYER7",e[e.HUD_COLOUR_NET_PLAYER8=35]="HUD_COLOUR_NET_PLAYER8",e[e.HUD_COLOUR_NET_PLAYER9=36]="HUD_COLOUR_NET_PLAYER9",e[e.HUD_COLOUR_NET_PLAYER10=37]="HUD_COLOUR_NET_PLAYER10",e[e.HUD_COLOUR_NET_PLAYER11=38]="HUD_COLOUR_NET_PLAYER11",e[e.HUD_COLOUR_NET_PLAYER12=39]="HUD_COLOUR_NET_PLAYER12",e[e.HUD_COLOUR_NET_PLAYER13=40]="HUD_COLOUR_NET_PLAYER13",e[e.HUD_COLOUR_NET_PLAYER14=41]="HUD_COLOUR_NET_PLAYER14",e[e.HUD_COLOUR_NET_PLAYER15=42]="HUD_COLOUR_NET_PLAYER15",e[e.HUD_COLOUR_NET_PLAYER16=43]="HUD_COLOUR_NET_PLAYER16",e[e.HUD_COLOUR_NET_PLAYER17=44]="HUD_COLOUR_NET_PLAYER17",e[e.HUD_COLOUR_NET_PLAYER18=45]="HUD_COLOUR_NET_PLAYER18",e[e.HUD_COLOUR_NET_PLAYER19=46]="HUD_COLOUR_NET_PLAYER19",e[e.HUD_COLOUR_NET_PLAYER20=47]="HUD_COLOUR_NET_PLAYER20",e[e.HUD_COLOUR_NET_PLAYER21=48]="HUD_COLOUR_NET_PLAYER21",e[e.HUD_COLOUR_NET_PLAYER22=49]="HUD_COLOUR_NET_PLAYER22",e[e.HUD_COLOUR_NET_PLAYER23=50]="HUD_COLOUR_NET_PLAYER23",e[e.HUD_COLOUR_NET_PLAYER24=51]="HUD_COLOUR_NET_PLAYER24",e[e.HUD_COLOUR_NET_PLAYER25=52]="HUD_COLOUR_NET_PLAYER25",e[e.HUD_COLOUR_NET_PLAYER26=53]="HUD_COLOUR_NET_PLAYER26",e[e.HUD_COLOUR_NET_PLAYER27=54]="HUD_COLOUR_NET_PLAYER27",e[e.HUD_COLOUR_NET_PLAYER28=55]="HUD_COLOUR_NET_PLAYER28",e[e.HUD_COLOUR_NET_PLAYER29=56]="HUD_COLOUR_NET_PLAYER29",e[e.HUD_COLOUR_NET_PLAYER30=57]="HUD_COLOUR_NET_PLAYER30",e[e.HUD_COLOUR_NET_PLAYER31=58]="HUD_COLOUR_NET_PLAYER31",e[e.HUD_COLOUR_NET_PLAYER32=59]="HUD_COLOUR_NET_PLAYER32",e[e.HUD_COLOUR_SIMPLEBLIP_DEFAULT=60]="HUD_COLOUR_SIMPLEBLIP_DEFAULT",e[e.HUD_COLOUR_MENU_BLUE=61]="HUD_COLOUR_MENU_BLUE",e[e.HUD_COLOUR_MENU_GREY_LIGHT=62]="HUD_COLOUR_MENU_GREY_LIGHT",e[e.HUD_COLOUR_MENU_BLUE_EXTRA_DARK=63]="HUD_COLOUR_MENU_BLUE_EXTRA_DARK",e[e.HUD_COLOUR_MENU_YELLOW=64]="HUD_COLOUR_MENU_YELLOW",e[e.HUD_COLOUR_MENU_YELLOW_DARK=65]="HUD_COLOUR_MENU_YELLOW_DARK",e[e.HUD_COLOUR_MENU_GREEN=66]="HUD_COLOUR_MENU_GREEN",e[e.HUD_COLOUR_MENU_GREY=67]="HUD_COLOUR_MENU_GREY",e[e.HUD_COLOUR_MENU_GREY_DARK=68]="HUD_COLOUR_MENU_GREY_DARK",e[e.HUD_COLOUR_MENU_HIGHLIGHT=69]="HUD_COLOUR_MENU_HIGHLIGHT",e[e.HUD_COLOUR_MENU_STANDARD=70]="HUD_COLOUR_MENU_STANDARD",e[e.HUD_COLOUR_MENU_DIMMED=71]="HUD_COLOUR_MENU_DIMMED",e[e.HUD_COLOUR_MENU_EXTRA_DIMMED=72]="HUD_COLOUR_MENU_EXTRA_DIMMED",e[e.HUD_COLOUR_BRIEF_TITLE=73]="HUD_COLOUR_BRIEF_TITLE",e[e.HUD_COLOUR_MID_GREY_MP=74]="HUD_COLOUR_MID_GREY_MP",e[e.HUD_COLOUR_NET_PLAYER1_DARK=75]="HUD_COLOUR_NET_PLAYER1_DARK",e[e.HUD_COLOUR_NET_PLAYER2_DARK=76]="HUD_COLOUR_NET_PLAYER2_DARK",e[e.HUD_COLOUR_NET_PLAYER3_DARK=77]="HUD_COLOUR_NET_PLAYER3_DARK",e[e.HUD_COLOUR_NET_PLAYER4_DARK=78]="HUD_COLOUR_NET_PLAYER4_DARK",e[e.HUD_COLOUR_NET_PLAYER5_DARK=79]="HUD_COLOUR_NET_PLAYER5_DARK",e[e.HUD_COLOUR_NET_PLAYER6_DARK=80]="HUD_COLOUR_NET_PLAYER6_DARK",e[e.HUD_COLOUR_NET_PLAYER7_DARK=81]="HUD_COLOUR_NET_PLAYER7_DARK",e[e.HUD_COLOUR_NET_PLAYER8_DARK=82]="HUD_COLOUR_NET_PLAYER8_DARK",e[e.HUD_COLOUR_NET_PLAYER9_DARK=83]="HUD_COLOUR_NET_PLAYER9_DARK",e[e.HUD_COLOUR_NET_PLAYER10_DARK=84]="HUD_COLOUR_NET_PLAYER10_DARK",e[e.HUD_COLOUR_NET_PLAYER11_DARK=85]="HUD_COLOUR_NET_PLAYER11_DARK",e[e.HUD_COLOUR_NET_PLAYER12_DARK=86]="HUD_COLOUR_NET_PLAYER12_DARK",e[e.HUD_COLOUR_NET_PLAYER13_DARK=87]="HUD_COLOUR_NET_PLAYER13_DARK",e[e.HUD_COLOUR_NET_PLAYER14_DARK=88]="HUD_COLOUR_NET_PLAYER14_DARK",e[e.HUD_COLOUR_NET_PLAYER15_DARK=89]="HUD_COLOUR_NET_PLAYER15_DARK",e[e.HUD_COLOUR_NET_PLAYER16_DARK=90]="HUD_COLOUR_NET_PLAYER16_DARK",e[e.HUD_COLOUR_NET_PLAYER17_DARK=91]="HUD_COLOUR_NET_PLAYER17_DARK",e[e.HUD_COLOUR_NET_PLAYER18_DARK=92]="HUD_COLOUR_NET_PLAYER18_DARK",e[e.HUD_COLOUR_NET_PLAYER19_DARK=93]="HUD_COLOUR_NET_PLAYER19_DARK",e[e.HUD_COLOUR_NET_PLAYER20_DARK=94]="HUD_COLOUR_NET_PLAYER20_DARK",e[e.HUD_COLOUR_NET_PLAYER21_DARK=95]="HUD_COLOUR_NET_PLAYER21_DARK",e[e.HUD_COLOUR_NET_PLAYER22_DARK=96]="HUD_COLOUR_NET_PLAYER22_DARK",e[e.HUD_COLOUR_NET_PLAYER23_DARK=97]="HUD_COLOUR_NET_PLAYER23_DARK",e[e.HUD_COLOUR_NET_PLAYER24_DARK=98]="HUD_COLOUR_NET_PLAYER24_DARK",e[e.HUD_COLOUR_NET_PLAYER25_DARK=99]="HUD_COLOUR_NET_PLAYER25_DARK",e[e.HUD_COLOUR_NET_PLAYER26_DARK=100]="HUD_COLOUR_NET_PLAYER26_DARK",e[e.HUD_COLOUR_NET_PLAYER27_DARK=101]="HUD_COLOUR_NET_PLAYER27_DARK",e[e.HUD_COLOUR_NET_PLAYER28_DARK=102]="HUD_COLOUR_NET_PLAYER28_DARK",e[e.HUD_COLOUR_NET_PLAYER29_DARK=103]="HUD_COLOUR_NET_PLAYER29_DARK",e[e.HUD_COLOUR_NET_PLAYER30_DARK=104]="HUD_COLOUR_NET_PLAYER30_DARK",e[e.HUD_COLOUR_NET_PLAYER31_DARK=105]="HUD_COLOUR_NET_PLAYER31_DARK",e[e.HUD_COLOUR_NET_PLAYER32_DARK=106]="HUD_COLOUR_NET_PLAYER32_DARK",e[e.HUD_COLOUR_BRONZE=107]="HUD_COLOUR_BRONZE",e[e.HUD_COLOUR_SILVER=108]="HUD_COLOUR_SILVER",e[e.HUD_COLOUR_GOLD=109]="HUD_COLOUR_GOLD",e[e.HUD_COLOUR_PLATINUM=110]="HUD_COLOUR_PLATINUM",e[e.HUD_COLOUR_GANG1=111]="HUD_COLOUR_GANG1",e[e.HUD_COLOUR_GANG2=112]="HUD_COLOUR_GANG2",e[e.HUD_COLOUR_GANG3=113]="HUD_COLOUR_GANG3",e[e.HUD_COLOUR_GANG4=114]="HUD_COLOUR_GANG4",e[e.HUD_COLOUR_SAME_CREW=115]="HUD_COLOUR_SAME_CREW",e[e.HUD_COLOUR_FREEMODE=116]="HUD_COLOUR_FREEMODE",e[e.HUD_COLOUR_PAUSE_BG=117]="HUD_COLOUR_PAUSE_BG",e[e.HUD_COLOUR_FRIENDLY=118]="HUD_COLOUR_FRIENDLY",e[e.HUD_COLOUR_ENEMY=119]="HUD_COLOUR_ENEMY",e[e.HUD_COLOUR_LOCATION=120]="HUD_COLOUR_LOCATION",e[e.HUD_COLOUR_PICKUP=121]="HUD_COLOUR_PICKUP",e[e.HUD_COLOUR_PAUSE_SINGLEPLAYER=122]="HUD_COLOUR_PAUSE_SINGLEPLAYER",e[e.HUD_COLOUR_FREEMODE_DARK=123]="HUD_COLOUR_FREEMODE_DARK",e[e.HUD_COLOUR_INACTIVE_MISSION=124]="HUD_COLOUR_INACTIVE_MISSION",e[e.HUD_COLOUR_DAMAGE=125]="HUD_COLOUR_DAMAGE",e[e.HUD_COLOUR_PINKLIGHT=126]="HUD_COLOUR_PINKLIGHT",e[e.HUD_COLOUR_PM_MITEM_HIGHLIGHT=127]="HUD_COLOUR_PM_MITEM_HIGHLIGHT",e[e.HUD_COLOUR_SCRIPT_VARIABLE=128]="HUD_COLOUR_SCRIPT_VARIABLE",e[e.HUD_COLOUR_YOGA=129]="HUD_COLOUR_YOGA",e[e.HUD_COLOUR_TENNIS=130]="HUD_COLOUR_TENNIS",e[e.HUD_COLOUR_GOLF=131]="HUD_COLOUR_GOLF",e[e.HUD_COLOUR_SHOOTING_RANGE=132]="HUD_COLOUR_SHOOTING_RANGE",e[e.HUD_COLOUR_FLIGHT_SCHOOL=133]="HUD_COLOUR_FLIGHT_SCHOOL",e[e.HUD_COLOUR_NORTH_BLUE=134]="HUD_COLOUR_NORTH_BLUE",e[e.HUD_COLOUR_SOCIAL_CLUB=135]="HUD_COLOUR_SOCIAL_CLUB",e[e.HUD_COLOUR_PLATFORM_BLUE=136]="HUD_COLOUR_PLATFORM_BLUE",e[e.HUD_COLOUR_PLATFORM_GREEN=137]="HUD_COLOUR_PLATFORM_GREEN",e[e.HUD_COLOUR_PLATFORM_GREY=138]="HUD_COLOUR_PLATFORM_GREY",e[e.HUD_COLOUR_FACEBOOK_BLUE=139]="HUD_COLOUR_FACEBOOK_BLUE",e[e.HUD_COLOUR_INGAME_BG=140]="HUD_COLOUR_INGAME_BG",e[e.HUD_COLOUR_DARTS=141]="HUD_COLOUR_DARTS",e[e.HUD_COLOUR_WAYPOINT=142]="HUD_COLOUR_WAYPOINT",e[e.HUD_COLOUR_MICHAEL=143]="HUD_COLOUR_MICHAEL",e[e.HUD_COLOUR_FRANKLIN=144]="HUD_COLOUR_FRANKLIN",e[e.HUD_COLOUR_TREVOR=145]="HUD_COLOUR_TREVOR",e[e.HUD_COLOUR_GOLF_P1=146]="HUD_COLOUR_GOLF_P1",e[e.HUD_COLOUR_GOLF_P2=147]="HUD_COLOUR_GOLF_P2",e[e.HUD_COLOUR_GOLF_P3=148]="HUD_COLOUR_GOLF_P3",e[e.HUD_COLOUR_GOLF_P4=149]="HUD_COLOUR_GOLF_P4",e[e.HUD_COLOUR_WAYPOINTLIGHT=150]="HUD_COLOUR_WAYPOINTLIGHT",e[e.HUD_COLOUR_WAYPOINTDARK=151]="HUD_COLOUR_WAYPOINTDARK",e[e.HUD_COLOUR_PANEL_LIGHT=152]="HUD_COLOUR_PANEL_LIGHT",e[e.HUD_COLOUR_MICHAEL_DARK=153]="HUD_COLOUR_MICHAEL_DARK",e[e.HUD_COLOUR_FRANKLIN_DARK=154]="HUD_COLOUR_FRANKLIN_DARK",e[e.HUD_COLOUR_TREVOR_DARK=155]="HUD_COLOUR_TREVOR_DARK",e[e.HUD_COLOUR_OBJECTIVE_ROUTE=156]="HUD_COLOUR_OBJECTIVE_ROUTE",e[e.HUD_COLOUR_PAUSEMAP_TINT=157]="HUD_COLOUR_PAUSEMAP_TINT",e[e.HUD_COLOUR_PAUSE_DESELECT=158]="HUD_COLOUR_PAUSE_DESELECT",e[e.HUD_COLOUR_PM_WEAPONS_PURCHASABLE=159]="HUD_COLOUR_PM_WEAPONS_PURCHASABLE",e[e.HUD_COLOUR_PM_WEAPONS_LOCKED=160]="HUD_COLOUR_PM_WEAPONS_LOCKED",e[e.HUD_COLOUR_END_SCREEN_BG=161]="HUD_COLOUR_END_SCREEN_BG",e[e.HUD_COLOUR_CHOP=162]="HUD_COLOUR_CHOP",e[e.HUD_COLOUR_PAUSEMAP_TINT_HALF=163]="HUD_COLOUR_PAUSEMAP_TINT_HALF",e[e.HUD_COLOUR_NORTH_BLUE_OFFICIAL=164]="HUD_COLOUR_NORTH_BLUE_OFFICIAL",e[e.HUD_COLOUR_SCRIPT_VARIABLE_2=165]="HUD_COLOUR_SCRIPT_VARIABLE_2",e[e.HUD_COLOUR_H=166]="HUD_COLOUR_H",e[e.HUD_COLOUR_HDARK=167]="HUD_COLOUR_HDARK",e[e.HUD_COLOUR_T=168]="HUD_COLOUR_T",e[e.HUD_COLOUR_TDARK=169]="HUD_COLOUR_TDARK",e[e.HUD_COLOUR_HSHARD=170]="HUD_COLOUR_HSHARD",e[e.HUD_COLOUR_CONTROLLER_MICHAEL=171]="HUD_COLOUR_CONTROLLER_MICHAEL",e[e.HUD_COLOUR_CONTROLLER_FRANKLIN=172]="HUD_COLOUR_CONTROLLER_FRANKLIN",e[e.HUD_COLOUR_CONTROLLER_TREVOR=173]="HUD_COLOUR_CONTROLLER_TREVOR",e[e.HUD_COLOUR_CONTROLLER_CHOP=174]="HUD_COLOUR_CONTROLLER_CHOP",e[e.HUD_COLOUR_VIDEO_EDITOR_VIDEO=175]="HUD_COLOUR_VIDEO_EDITOR_VIDEO",e[e.HUD_COLOUR_VIDEO_EDITOR_AUDIO=176]="HUD_COLOUR_VIDEO_EDITOR_AUDIO",e[e.HUD_COLOUR_VIDEO_EDITOR_TEXT=177]="HUD_COLOUR_VIDEO_EDITOR_TEXT",e[e.HUD_COLOUR_HB_BLUE=178]="HUD_COLOUR_HB_BLUE",e[e.HUD_COLOUR_HB_YELLOW=179]="HUD_COLOUR_HB_YELLOW"}(D||(D={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(S||(S={}));var g=S;class I{constructor(e,t,i,s=255){h(this,"R",void 0),h(this,"G",void 0),h(this,"B",void 0),h(this,"A",void 0),this.R=e,this.G=t,this.B=i,this.A=s}}h(I,"Empty",new I(0,0,0,0)),h(I,"Transparent",new I(0,0,0,0)),h(I,"Black",new I(0,0,0,255)),h(I,"White",new I(255,255,255,255)),h(I,"WhiteSmoke",new I(245,245,245,255));class f{constructor(e=0,t=0){h(this,"Width",void 0),h(this,"Height",void 0),this.Width=e,this.Height=t}}class w{constructor(e,t){h(this,"X",0),h(this,"Y",0),this.X=e,this.Y=t}static Parse(e){if("object"==typeof e){if(e.length)return new w(e[0],e[1]);if(e.X&&e.Y)return new w(e.X,e.Y)}else if("string"==typeof e&&-1!==e.indexOf(",")){const t=e.split(",");return new w(parseFloat(t[0]),parseFloat(t[1]))}return new w(0,0)}}class E{constructor(){h(this,"Enabled",void 0),this.Enabled=!0}}class P extends E{constructor(e,t,i,s,n,o){super(),h(this,"Caption",void 0),h(this,"Pos",void 0),h(this,"Scale",void 0),h(this,"Color",void 0),h(this,"Font",void 0),h(this,"Centered",void 0),this.Caption=e,this.Pos=t,this.Scale=i,this.Color=s||new I(255,255,255,255),this.Font=n||0,this.Centered=o||!1}Draw(e,t,i,s,n,h){!e||t||i||s||n||h||(t=new w(this.Pos.X+e.Width,this.Pos.Y+e.Height),i=this.Scale,s=this.Color,n=this.Font,h=this.Centered);const r=t.X/1280,a=t.Y/720;o.setTextFont(parseInt(n)),o.setTextScale(i,i),o.setTextColour(s.R,s.G,s.B,s.A),o.setTextCentre(h),o.beginTextCommandDisplayText("STRING"),P.AddLongString(e),o.endTextCommandDisplayText(r,a,0)}static AddLongString(e){if(!e.length)return;for(let t,i=0;i<e.length;i+=99){let s=e.substr(i,i+99),n=i;(s.match(/~/g)||[]).length%2!=0?(t=s.lastIndexOf("~"),i-=99-t):t=Math.min(99,e.length-n),o.addTextComponentSubstringPlayerName(e.substr(n,t))}}}const A=o.getActiveScreenResolution(0,0);class H{static get ResolutionMaintainRatio(){const e=H.Width/H.Height;return new f(1080*e,1080)}static MousePosition(t=!1){const i=H.ResolutionMaintainRatio,s=e.getCursorPos();let[n,o]=[s.x,s.y];return t&&([n,o]=[s.x/i.Width,s.y/i.Height]),{X:n,Y:o}}static IsMouseInBounds(e,t){const i=H.MousePosition();return i.X>=e.X&&i.X<=e.X+t.Width&&i.Y>e.Y&&i.Y<e.Y+t.Height}static GetTextWidth(e,t,i){o.beginTextCommandGetWidth("CELL_EMAIL_BCON"),P.AddLongString(e),o.setTextFont(t),o.setTextScale(1,i);const s=o.endTextCommandGetWidth(!0);return H.ResolutionMaintainRatio.Width*s}static GetLineCount(e,t,i,s,n){o.beginTextCommandLineCount("CELL_EMAIL_BCON"),P.AddLongString(e);const h=H.ResolutionMaintainRatio,r=t.X/h.Width,a=t.Y/h.Height;if(o.setTextFont(i),o.setTextScale(1,s),n>0){const e=t.X/h.Width+n/h.Width;o.setTextWrap(r,e)}return o.endTextCommandLineCount(r,a)}}h(H,"Width",A[1]),h(H,"Height",A[2]);class M{constructor(e,t,i,s,n=0,o=new I(255,255,255)){h(this,"TextureName",void 0),h(this,"Pos",void 0),h(this,"Size",void 0),h(this,"Heading",void 0),h(this,"Color",void 0),h(this,"Visible",void 0),h(this,"_textureDict",void 0),this.TextureDict=e,this.TextureName=t,this.Pos=i,this.Size=s,this.Heading=n,this.Color=o,this.Visible=!0}LoadTextureDictionary(){this.requestTextureDictPromise(this._textureDict).then((e=>{}))}requestTextureDictPromise(t){return new Promise(((i,s)=>{o.requestStreamedTextureDict(t,!0);let n=e.setInterval((()=>{if(o.hasStreamedTextureDictLoaded(t))return e.clearInterval(n),i(!0)}),10)}))}set TextureDict(e){this._textureDict=e,this.IsTextureDictionaryLoaded||this.LoadTextureDictionary()}get TextureDict(){return this._textureDict}get IsTextureDictionaryLoaded(){return o.hasStreamedTextureDictLoaded(this._textureDict)}Draw(e,t,i,s,n,h,r){e=e||this.TextureDict,t=t||this.TextureName,i=i||this.Pos,s=s||this.Size,n=n||this.Heading,h=h||this.Color,(r=r||!0)&&(o.hasStreamedTextureDictLoaded(e)||o.requestStreamedTextureDict(e,!0));const a=1080,l=a*(H.Width/H.Height),c=this.Size.Width/l,_=this.Size.Height/a,d=this.Pos.X/l+.5*c,u=this.Pos.Y/a+.5*_;o.drawSprite(e,t,d,u,c,_,n,h.R,h.G,h.B,h.A,!0)}}class x extends E{constructor(e,t,i){super(),h(this,"Pos",void 0),h(this,"Size",void 0),h(this,"Color",void 0),this.Enabled=!0,this.Pos=e,this.Size=t,this.Color=i}Draw(e,t,i){e||(e=new f(0,0)),t||i||(e=new w(this.Pos.X+e.Width,this.Pos.Y+e.Height),t=this.Size,i=this.Color);const s=t.Width/1280,n=t.Height/720,h=e.X/1280+.5*s,r=e.Y/720+.5*n;o.drawRect(h,r,s,n,i.R,i.G,i.B,i.A,!1)}}class y extends x{constructor(e,t,i){super(e,t,i)}Draw(e,t,i){e||(e=new f),!e||t||i||(e=new w(this.Pos.X+e.Width,this.Pos.Y+e.Height),t=this.Size,i=this.Color);const s=1080,n=s*(H.Width/H.Height),h=t.Width/n,r=t.Height/s,a=e.X/n+.5*h,l=e.Y/s+.5*r;o.drawRect(a,l,h,r,i.R,i.G,i.B,i.A,!1)}}class V extends P{get WordWrap(){return new f(this.Wrap,0)}set WordWrap(e){this.Wrap=e.Width}constructor(e,t,i,s,n,o){super(e,t,i,s||new I(255,255,255),n||0,!1),h(this,"TextAlignment",U.Left),h(this,"DropShadow",void 0),h(this,"Outline",void 0),h(this,"Wrap",0),o&&(this.TextAlignment=o)}Draw(t,i,s,n,h,r,a,l,c){let _=t,d=r,u=r;t||(t=new f(0,0)),t&&!i&&(u=this.TextAlignment,_=this.Caption,i=new w(this.Pos.X+t.Width,this.Pos.Y+t.Height),s=this.Scale,n=this.Color,h=this.Font,1==d||0==d?d=this.Centered:(d=void 0,a=this.DropShadow,l=this.Outline));const O=1080*(H.Width/H.Height),R=this.Pos.X/O,m=this.Pos.Y/1080;if(o.setTextFont(parseInt(h)),o.setTextScale(1,s),o.setTextColour(n.R,n.G,n.B,n.A),void 0!==d)o.setTextCentre(d);else{switch(a&&o.setTextDropshadow(2,0,0,0,0),l&&e.logWarning("[NativeUI] ResText outline not working!"),u){case U.Centered:o.setTextCentre(!0);break;case U.Right:o.setTextRightJustify(!0),o.setTextWrap(0,R)}if(this.Wrap){const e=(this.Pos.X+this.Wrap)/O;o.setTextWrap(R,e)}}o.beginTextCommandDisplayText("CELL_EMAIL_BCON"),P.AddLongString(_),o.endTextCommandDisplayText(R,m,0)}}function v(){let e,t="";for(e=0;e<32;e+=1)switch(e){case 8:case 20:t+="-",t+=(16*Math.random()|0).toString(16);break;case 12:t+="-",t+="4";break;case 16:t+="-",t+=(4*Math.random()|8).toString(16);break;default:t+=(16*Math.random()|0).toString(16)}return t}class N{get Text(){return this._text.Caption}set Text(e){this._text.Caption=e}get Description(){return this._description}set Description(e){this._description=e,null!=this&&null!=this.Parent&&this.Parent.UpdateDescriptionCaption()}constructor(e,t="",i=null){h(this,"Id",v()),h(this,"_event",void 0),h(this,"_rectangle",void 0),h(this,"_text",void 0),h(this,"_description",void 0),h(this,"_selectedSprite",void 0),h(this,"_badgeLeft",void 0),h(this,"_badgeRight",void 0),h(this,"_labelText",void 0),h(this,"BackColor",N.DefaultBackColor),h(this,"HighlightedBackColor",N.DefaultHighlightedBackColor),h(this,"ForeColor",N.DefaultForeColor),h(this,"HighlightedForeColor",N.DefaultHighlightedForeColor),h(this,"Enabled",void 0),h(this,"Selected",void 0),h(this,"Hovered",void 0),h(this,"Data",void 0),h(this,"Offset",void 0),h(this,"Parent",void 0),h(this,"RightLabel",""),h(this,"LeftBadge",m.None),h(this,"RightBadge",m.None),this.Enabled=!0,this.Data=i,this._rectangle=new y(new w(0,0),new f(431,38),new I(150,0,0,0)),this._text=new V(e,new w(8,0),.33,I.WhiteSmoke,L.ChaletLondon,U.Left),this.Description=t,this._selectedSprite=new M("commonmenu","gradient_nav",new w(0,0),new f(431,38)),this._badgeLeft=new M("commonmenu","",new w(0,0),new f(40,40)),this._badgeRight=new M("commonmenu","",new w(0,0),new f(40,40)),this._labelText=new V("",new w(0,0),.35,I.White,0,U.Right)}SetVerticalPosition(e){this._rectangle.Pos=new w(this.Offset.X,e+144+this.Offset.Y),this._selectedSprite.Pos=new w(0+this.Offset.X,e+144+this.Offset.Y),this._text.Pos=new w(8+this.Offset.X,e+147+this.Offset.Y),this._badgeLeft.Pos=new w(0+this.Offset.X,e+142+this.Offset.Y),this._badgeRight.Pos=new w(385+this.Offset.X,e+142+this.Offset.Y),this._labelText.Pos=new w(420+this.Offset.X,e+148+this.Offset.Y)}addEvent(e,...t){this._event={event:e,args:t}}fireEvent(){this._event&&e.emit(this._event.event,...this._event.args)}Draw(){this._rectangle.Size=new f(431+this.Parent.WidthOffset,38),this._selectedSprite.Size=new f(431+this.Parent.WidthOffset,38),this.Hovered&&!this.Selected&&(this._rectangle.Color=new I(255,255,255,20),this._rectangle.Draw()),this._selectedSprite.Color=this.Selected?this.HighlightedBackColor:this.BackColor,this._selectedSprite.Draw(),this._text.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this.LeftBadge!=m.None?(this._text.Pos=new w(35+this.Offset.X,this._text.Pos.Y),this._badgeLeft.TextureDict=this.BadgeToSpriteLib(this.LeftBadge),this._badgeLeft.TextureName=this.BadgeToSpriteName(this.LeftBadge,this.Selected),this._badgeLeft.Color=this.IsBagdeWhiteSprite(this.LeftBadge)?this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148):I.White,this._badgeLeft.Draw()):this._text.Pos=new w(8+this.Offset.X,this._text.Pos.Y),this.RightBadge!=m.None&&(this._badgeRight.Pos=new w(385+this.Offset.X+this.Parent.WidthOffset,this._badgeRight.Pos.Y),this._badgeRight.TextureDict=this.BadgeToSpriteLib(this.RightBadge),this._badgeRight.TextureName=this.BadgeToSpriteName(this.RightBadge,this.Selected),this._badgeRight.Color=this.IsBagdeWhiteSprite(this.RightBadge)?this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148):I.White,this._badgeRight.Draw()),this.RightLabel&&""!==this.RightLabel&&(this._labelText.Pos=new w(420+this.Offset.X+this.Parent.WidthOffset,this._labelText.Pos.Y),this._labelText.Caption=this.RightLabel,this._labelText.Color=this._text.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._labelText.Draw()),this._text.Draw()}SetLeftBadge(e){this.LeftBadge=e}SetRightBadge(e){this.RightBadge=e}SetRightLabel(e){this.RightLabel=e}BadgeToSpriteLib(e){switch(e){case m.Sale:return"mpshopsale";case m.Audio1:case m.Audio2:case m.Audio3:case m.AudioInactive:case m.AudioMute:return"mpleaderboard";default:return"commonmenu"}}BadgeToSpriteName(e,t){switch(e){case m.None:return"";case m.BronzeMedal:return"mp_medal_bronze";case m.GoldMedal:return"mp_medal_gold";case m.SilverMedal:return"medal_silver";case m.Alert:return"mp_alerttriangle";case m.Crown:return"mp_hostcrown";case m.Ammo:return t?"shop_ammo_icon_b":"shop_ammo_icon_a";case m.Armour:return t?"shop_armour_icon_b":"shop_armour_icon_a";case m.Barber:return t?"shop_barber_icon_b":"shop_barber_icon_a";case m.Clothes:return t?"shop_clothing_icon_b":"shop_clothing_icon_a";case m.Franklin:return t?"shop_franklin_icon_b":"shop_franklin_icon_a";case m.Bike:return t?"shop_garage_bike_icon_b":"shop_garage_bike_icon_a";case m.Car:return t?"shop_garage_icon_b":"shop_garage_icon_a";case m.Gun:return t?"shop_gunclub_icon_b":"shop_gunclub_icon_a";case m.Heart:return t?"shop_health_icon_b":"shop_health_icon_a";case m.Lock:return"shop_lock";case m.Makeup:return t?"shop_makeup_icon_b":"shop_makeup_icon_a";case m.Mask:return t?"shop_mask_icon_b":"shop_mask_icon_a";case m.Michael:return t?"shop_michael_icon_b":"shop_michael_icon_a";case m.Star:return"shop_new_star";case m.Tattoo:return t?"shop_tattoos_icon_b":"shop_tattoos_icon_a";case m.Tick:return"shop_tick_icon";case m.Trevor:return t?"shop_trevor_icon_b":"shop_trevor_icon_a";case m.Sale:return"saleicon";case m.ArrowLeft:return"arrowleft";case m.ArrowRight:return"arrowright";case m.Audio1:return"leaderboard_audio_1";case m.Audio2:return"leaderboard_audio_2";case m.Audio3:return"leaderboard_audio_3";case m.AudioInactive:return"leaderboard_audio_inactive";case m.AudioMute:return"leaderboard_audio_mute";default:return""}}IsBagdeWhiteSprite(e){switch(e){case m.Lock:case m.Tick:case m.Crown:return!0;default:return!1}}BadgeToColor(e,t){switch(e){case m.Lock:case m.Tick:case m.Crown:return t?new I(255,0,0,0):new I(255,255,255,255);default:return new I(255,255,255,255)}}}h(N,"DefaultBackColor",I.Empty),h(N,"DefaultHighlightedBackColor",I.White),h(N,"DefaultForeColor",I.WhiteSmoke),h(N,"DefaultHighlightedForeColor",I.Black);class b extends N{constructor(e,t=!1,i=""){super(e,i),h(this,"_checkedSprite",void 0),h(this,"Checked",!1);this._checkedSprite=new M("commonmenu","shop_box_blank",new w(410,95),new f(50,50)),this.Checked=t}SetVerticalPosition(e){super.SetVerticalPosition(e),this._checkedSprite.Pos=new w(380+this.Offset.X+this.Parent.WidthOffset,e+138+this.Offset.Y)}Draw(){super.Draw(),this._checkedSprite.Pos=this._checkedSprite.Pos=new w(380+this.Offset.X+this.Parent.WidthOffset,this._checkedSprite.Pos.Y);const e=this.HighlightedForeColor==N.DefaultHighlightedForeColor;this.Selected&&e?this._checkedSprite.TextureName=this.Checked?"shop_box_tickb":"shop_box_blankb":this._checkedSprite.TextureName=this.Checked?"shop_box_tick":"shop_box_blank",this._checkedSprite.Color=this.Enabled?this.Selected&&!e?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._checkedSprite.Draw()}SetRightBadge(e){return this}SetRightLabel(e){return this}}class F{constructor(e="",t=null){h(this,"Id",v()),h(this,"DisplayText",void 0),h(this,"Data",void 0),this.DisplayText=e,this.Data=t}}class Y{constructor(e){if(h(this,"items",void 0),0===e.length)throw new Error("ItemsCollection cannot be empty");this.items=e}length(){return this.items.length}getListItems(){const e=[];for(const t of this.items)t instanceof F?e.push(t):"string"==typeof t?e.push(new F(t)):"number"==typeof t&&e.push(new F(t.toString()));return e}}class k extends N{get Collection(){return this._itemsCollection}set Collection(e){if(!e)throw new Error("The collection can't be null");this._itemsCollection=e}set SelectedItem(e){const t=this.Collection.findIndex((t=>t.Id===e.Id));this.Index=t>0?t:0}get SelectedItem(){return this.Collection.length>0?this.Collection[this.Index]:null}get SelectedValue(){return null==this.SelectedItem?null:null==this.SelectedItem.Data?this.SelectedItem.DisplayText:this.SelectedItem.Data}get Index(){return null==this.Collection||null!=this.Collection&&0==this.Collection.length?-1:this._index%this.Collection.length}set Index(e){if(null==this.Collection)return;if(null!=this.Collection&&0==this.Collection.length)return;this._index=1e8-1e8%this.Collection.length+e;const t=this.Collection.length>=this.Index?this.Collection[this.Index].DisplayText:" ";this._currentOffset=H.GetTextWidth(t,this._itemText&&this._itemText.Font?this._itemText.Font:0,.35)}constructor(e,t="",i=new Y([]),s=0,n=null){super(e,t,n),h(this,"ScrollingEnabled",!0),h(this,"HoldTimeBeforeScroll",200),h(this,"_itemText",void 0),h(this,"_arrowLeft",void 0),h(this,"_arrowRight",void 0),h(this,"_currentOffset",0),h(this,"_itemsCollection",[]),h(this,"_index",0);this.Collection=i.getListItems(),this.Index=s,this._arrowLeft=new M("commonmenu","arrowleft",new w(110,105),new f(30,30)),this._arrowRight=new M("commonmenu","arrowright",new w(280,105),new f(30,30)),this._itemText=new V("",new w(290,104),.35,I.White,L.ChaletLondon,U.Right)}setCollection(e){this.Collection=e.getListItems()}setCollectionItem(e,t,i=!0){if(e>this.Collection.length)throw new Error("Index out of bounds");"string"==typeof t&&(t=new F(t)),this.Collection.splice(e,1,t),i&&(this.Index=0)}SetVerticalPosition(e){this._arrowLeft.Pos=new w(300+this.Offset.X+this.Parent.WidthOffset,147+e+this.Offset.Y),this._arrowRight.Pos=new w(400+this.Offset.X+this.Parent.WidthOffset,147+e+this.Offset.Y),this._itemText.Pos=new w(300+this.Offset.X+this.Parent.WidthOffset,e+147+this.Offset.Y),super.SetVerticalPosition(e)}SetRightLabel(e){return this}SetRightBadge(e){return this}Draw(){super.Draw();const e=this.Collection.length>=this.Index?this.Collection[this.Index].DisplayText:" ",t=this._currentOffset;this._itemText.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._itemText.Caption=e,this._arrowLeft.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._arrowRight.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._arrowLeft.Pos=new w(380-t+this.Offset.X+this.Parent.WidthOffset,this._arrowLeft.Pos.Y),this.Selected?(this._arrowLeft.Draw(),this._arrowRight.Draw(),this._itemText.Pos=new w(405+this.Offset.X+this.Parent.WidthOffset,this._itemText.Pos.Y)):this._itemText.Pos=new w(420+this.Offset.X+this.Parent.WidthOffset,this._itemText.Pos.Y),this._itemText.Draw()}}Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};class W extends N{get PreCaptionText(){return this._preCaptionText}set PreCaptionText(e){if(!e)throw new Error("The pre caption text can't be null");if("string"!=typeof e)throw new Error("The pre caption text must be a string");this._preCaptionText=e,this._currentOffset=H.GetTextWidth(this.PreCaptionText+this._selectedValue.toString()+this.PostCaptionText,this._itemText&&this._itemText.Font?this._itemText.Font:0,.35)}get PostCaptionText(){return this._postCaptionText}set PostCaptionText(e){if(!e)throw new Error("The post caption text can't be null");if("string"!=typeof e)throw new Error("The post caption text must be a string");this._postCaptionText=e,this._currentOffset=H.GetTextWidth(this.PreCaptionText+this._selectedValue.toString()+this.PostCaptionText,this._itemText&&this._itemText.Font?this._itemText.Font:0,.35)}get LeftMoveThreshold(){return this._leftMoveThreshold}set LeftMoveThreshold(e){if(!e)throw new Error("The left threshold can't be null");this._leftMoveThreshold=e}get RightMoveThreshold(){return this._rightMoveThreshold}set RightMoveThreshold(e){if(!e)throw new Error("The right threshold can't be null");this._rightMoveThreshold=e}get LowerThreshold(){return this._lowerThreshold}set LowerThreshold(e){if("number"!=typeof e&&!e)throw new Error("The lower threshold can't be null");this._lowerThreshold=e,this.SelectedValue<e&&(this.SelectedValue=e)}get UpperThreshold(){return this._upperThreshold}set UpperThreshold(e){if("number"!=typeof e&&!e)throw new Error("The upper threshold can't be null");this._upperThreshold=e,this.SelectedValue>e&&(this.SelectedValue=e)}get SelectedValue(){return this._selectedValue}set SelectedValue(e){if(e<this._lowerThreshold||e>this._upperThreshold)throw new Error("The value can not be outside the lower or upper limits");var t;this._selectedValue=(t=e,Number.isInteger(t)?t:parseFloat(t.toFixed(10))),this._currentOffset=H.GetTextWidth(this.PreCaptionText+this._selectedValue.toString()+this.PostCaptionText,this._itemText&&this._itemText.Font?this._itemText.Font:0,this._itemText&&this._itemText.Scale?this._itemText.Scale:.35)}constructor(e,t="",i=0,s=10,n=0,o=null){super(e,t,o),h(this,"_itemText",void 0),h(this,"_arrowLeft",void 0),h(this,"_arrowRight",void 0),h(this,"_currentOffset",0),h(this,"_leftMoveThreshold",1),h(this,"_rightMoveThreshold",1),h(this,"_lowerThreshold",0),h(this,"_upperThreshold",10),h(this,"_preCaptionText",""),h(this,"_postCaptionText",""),h(this,"_selectedValue",void 0);this.LowerThreshold=i,this.UpperThreshold=i>s?i:s,this.SelectedValue=n<i||n>s?i:n,this._arrowLeft=new M("commonmenu","arrowleft",new w(110,105),new f(30,30)),this._arrowRight=new M("commonmenu","arrowright",new w(280,105),new f(30,30)),this._itemText=new V("",new w(290,104),.35,I.White,L.ChaletLondon,U.Right)}SetVerticalPosition(e){this._arrowLeft.Pos=new w(300+this.Offset.X+this.Parent.WidthOffset,147+e+this.Offset.Y),this._arrowRight.Pos=new w(400+this.Offset.X+this.Parent.WidthOffset,147+e+this.Offset.Y),this._itemText.Pos=new w(300+this.Offset.X+this.Parent.WidthOffset,e+147+this.Offset.Y),super.SetVerticalPosition(e)}SetRightLabel(e){return this}SetRightBadge(e){return this}Draw(){super.Draw();const e=this._currentOffset;this._itemText.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._itemText.Caption=this.PreCaptionText+this._selectedValue+this.PostCaptionText,this._arrowLeft.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._arrowRight.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._arrowLeft.Pos=new w(380-e+this.Offset.X+this.Parent.WidthOffset,this._arrowLeft.Pos.Y),this.Selected?(this._arrowLeft.Draw(),this._arrowRight.Draw(),this._itemText.Pos=new w(405+this.Offset.X+this.Parent.WidthOffset,this._itemText.Pos.Y)):this._itemText.Pos=new w(420+this.Offset.X+this.Parent.WidthOffset,this._itemText.Pos.Y),this._itemText.Draw()}}class B extends N{get Index(){return this._index%this._items.length}set Index(e){this._index=1e8-1e8%this._items.length+e}constructor(e,t,i,s="",n=!1,o=null){super(e,s,o),h(this,"_arrowLeft",void 0),h(this,"_arrowRight",void 0),h(this,"_rectangleBackground",void 0),h(this,"_rectangleSlider",void 0),h(this,"_rectangleDivider",void 0),h(this,"_items",void 0),h(this,"_index",void 0);this._items=t,this._arrowLeft=new M("commonmenutu","arrowleft",new w(0,105),new f(15,15)),this._arrowRight=new M("commonmenutu","arrowright",new w(0,105),new f(15,15)),this._rectangleBackground=new y(new w(0,0),new f(150,9),new I(4,32,57,255)),this._rectangleSlider=new y(new w(0,0),new f(75,9),new I(57,116,200,255)),this._rectangleDivider=new y(new w(0,0),new f(2.5,20),n?I.WhiteSmoke:I.Transparent),this.Index=i}SetVerticalPosition(e){this._rectangleBackground.Pos=new w(250+this.Offset.X+this.Parent.WidthOffset,e+158.5+this.Offset.Y),this._rectangleSlider.Pos=new w(250+this.Offset.X+this.Parent.WidthOffset,e+158.5+this.Offset.Y),this._rectangleDivider.Pos=new w(323.5+this.Offset.X+this.Parent.WidthOffset,e+153+this.Offset.Y),this._arrowLeft.Pos=new w(235+this.Offset.X+this.Parent.WidthOffset,155.5+e+this.Offset.Y),this._arrowRight.Pos=new w(400+this.Offset.X+this.Parent.WidthOffset,155.5+e+this.Offset.Y),super.SetVerticalPosition(e)}IndexToItem(e){return this._items[e]}Draw(){super.Draw(),this._arrowLeft.Color=this.Enabled?this.Selected?I.Black:I.WhiteSmoke:new I(163,159,148),this._arrowRight.Color=this.Enabled?this.Selected?I.Black:I.WhiteSmoke:new I(163,159,148);let e=(this._rectangleBackground.Size.Width-this._rectangleSlider.Size.Width)/(this._items.length-1)*this.Index;this._rectangleSlider.Pos=new w(250+this.Offset.X+e+ +this.Parent.WidthOffset,this._rectangleSlider.Pos.Y),this.Selected&&(this._arrowLeft.Draw(),this._arrowRight.Draw()),this._rectangleBackground.Draw(),this._rectangleSlider.Draw(),this._rectangleDivider.Draw()}SetRightBadge(e){}SetRightLabel(e){}}class G extends x{constructor(e,t,i){super(e,t,i),h(this,"Items",void 0),this.Items=[]}addItem(e){this.Items.push(e)}Draw(e){if(!this.Enabled)return;e=e||new f;const t=1080,i=t*(H.Width/H.Height),s=this.Size.Width/i,n=this.Size.Height/t,h=(this.Pos.X+e.Width)/i+.5*s,r=(this.Pos.Y+e.Height)/t+.5*n;for(var a of(o.drawRect(h,r,s,n,this.Color.R,this.Color.G,this.Color.B,this.Color.A,!1),this.Items))a.Draw(new f(this.Pos.X+e.Width,this.Pos.Y+e.Height))}}class K{static PlaySound(e,t){o.playSound(-1,e,t,!1,0,!0)}}class X{constructor(){h(this,"handlers",[])}on(e){this.handlers.push(e)}off(e){this.handlers=this.handlers.filter((t=>t!==e))}emit(...e){this.handlers.slice(0).forEach((t=>t(...e)))}expose(){return this}count(){return this.handlers.length}}class z{constructor(e){h(this,"_handle",0),h(this,"scaleForm",void 0),this.scaleForm=e,this._handle=n.requestScaleformMovie(this.scaleForm)}get handle(){return this._handle}get isValid(){return 0!=this._handle}get isLoaded(){return n.hasScaleformMovieLoaded(this._handle)}callFunctionHead(t,...i){this.isValid&&this.isLoaded&&(n.beginScaleformMovieMethod(this._handle,t),i.forEach((t=>{switch(typeof t){case"number":Number(t)===t&&t%1!=0?n.scaleformMovieMethodAddParamFloat(t):n.scaleformMovieMethodAddParamInt(t);case"string":n.scaleformMovieMethodAddParamPlayerNameString(t);break;case"boolean":n.scaleformMovieMethodAddParamBool(t);break;default:e.logError(`Unknown argument type ${typeof t} = ${t.toString()} passed to scaleform with handle ${this._handle}`)}})))}callFunction(e,...t){this.callFunctionHead(e,...t),n.endScaleformMovieMethod()}callFunctionReturn(e,...t){return this.callFunctionHead(e,...t),n.endScaleformMovieMethodReturnValue()}render2D(){this.isValid&&this.isLoaded&&n.drawScaleformMovieFullscreen(this._handle,255,255,255,255,0)}recreate(){this.isValid&&this.isLoaded&&(n.setScaleformMovieAsNoLongerNeeded(this._handle),this._handle=n.requestScaleformMovie(this.scaleForm))}destroy(){this.isValid&&(n.setScaleformMovieAsNoLongerNeeded(this._handle),this._handle=0)}}class J{static Initialize(e,t){this._transitionOutAnimName=t,this._scaleform=new z(e)}static get IsVisible(){return this._messageVisible}static get Scaleform(){return this._scaleform}static Load(){null!=this._delayedTransitionInTimeout&&(e.clearTimeout(this._delayedTransitionInTimeout),this._delayedTransitionInTimeout=null)}static SetDelayedTransition(t,i){this._delayedTransitionInTimeout=e.setTimeout((()=>{this._delayedTransitionInTimeout=null,this.TransitionIn(t,i)}),this._transitionOutTimeMs)}static ShowCustomShard(e,t=5e3,...i){this.ShowComplexCustomShard((()=>{this._scaleform.callFunction(e,...i)}),t)}static ShowComplexCustomShard(e,t=5e3){this.Load(),this._messageVisible?(this.TransitionOut(),this.SetDelayedTransition((()=>e()),t)):this.TransitionIn(e,t)}static TransitionOut(){this._messageVisible&&(null!=this._transitionOutTimeout&&(e.clearTimeout(this._transitionOutTimeout),this._transitionOutTimeout=null),null!=this._transitionOutFinishedTimeout&&(e.clearTimeout(this._transitionOutFinishedTimeout),this._transitionOutFinishedTimeout=null),this._scaleform.callFunction(this._transitionOutAnimName),this._transitionOutFinishedTimeout=e.setTimeout((()=>{this._messageVisible=!1,this._scaleform.recreate()}),this._transitionOutTimeMs))}static TransitionIn(e,t=500){this._messageVisible=!0,e(),this.SetTransitionOutTimer(t)}static SetTransitionOutTimer(t){this._transitionOutTimeout=e.setTimeout((()=>{this._transitionOutTimeout=null,this.TransitionOut()}),t)}static Render(){this._messageVisible&&this._scaleform.render2D()}}h(J,"_messageVisible",!1),h(J,"_transitionOutTimeout",null),h(J,"_transitionOutFinishedTimeout",null),h(J,"_delayedTransitionInTimeout",null),h(J,"_scaleform",null),h(J,"_transitionOutTimeMs",500),h(J,"_transitionOutAnimName",null);(class extends J{static Initialize(t,i){super.Initialize(t,i),e.everyTick((()=>this.Render()))}static ShowMissionPassedMessage(e,t="",i=5e3){this.ShowCustomShard("SHOW_MISSION_PASSED_MESSAGE",i,e,t,100,!0,0,!0)}static ShowColoredShard(e,t,i,s,n=5e3){this.ShowCustomShard("SHOW_SHARD_CENTERED_MP_MESSAGE",n,e,t,s,i)}static ShowOldMessage(e,t=5e3){this.ShowCustomShard("SHOW_MISSION_PASSED_MESSAGE",t,e)}static ShowSimpleShard(e,t="",i=5e3){this.ShowCustomShard("SHOW_SHARD_CREW_RANKUP_MP_MESSAGE",i,e,t)}static ShowRankupMessage(e,t,i,s=5e3){this.ShowCustomShard("SHOW_BIG_MP_MESSAGE",s,e,t,i,"","")}static ShowPlaneMessage(e,t,i,s=5e3){this.ShowCustomShard("SHOW_PLANE_MESSAGE",s,e,t,i,"","")}static ShowWeaponPurchasedMessage(e,t,i,s=5e3){this.ShowCustomShard("SHOW_WEAPON_PURCHASED",s,e,t,i,"",100)}static ShowWastedMessage(e,t,i,s,n=5e3){this.ShowCustomShard("SHOW_SHARD_WASTED_MP_MESSAGE",n,e,t,i,s)}static ShowMpMessageLarge(e,t="",i=5e3){this.ShowComplexCustomShard((()=>{this.Scaleform.callFunction("SHOW_CENTERED_MP_MESSAGE_LARGE",e,t,100,!0,100),this.Scaleform.callFunction("TRANSITION_IN")}),i)}}).Initialize("MP_BIG_MESSAGE_FREEMODE","TRANSITION_OUT");(class extends J{static Initialize(t,i){super.Initialize(t,i),e.everyTick((()=>this.Render()))}static ShowMidsizedMessage(e,t="",i=5e3){this.ShowCustomShard("SHOW_MIDSIZED_MESSAGE",i,e,t)}static ShowBridgesKnivesProgress(e,t,i,s,n,o=5e3){this.ShowCustomShard("SHOW_BRIDGES_KNIVES_PROGRESS",o,e,t,i,s,n)}static ShowCondensedShardMessage(e,t,i,s,n=5e3){this.ShowCustomShard("SHOW_COND_SHARD_MESSAGE",n,e,t,i,s)}static ShowMidsizedShardMessage(e,t,i,s,n,o=5e3){this.ShowCustomShard("SHOW_SHARD_MIDSIZED_MESSAGE",o,e,t,i,s,n)}}).Initialize("MIDSIZED_MESSAGE","SHARD_ANIM_OUT");class Z extends N{SelectionChangeHandlerPromise(e,t,i){return new Promise(((s,n)=>{s(this.SelectionChangeHandler(e,t,i))}))}get PreCaptionText(){return this._precaptionText}set PreCaptionText(e){if(!e)throw new Error("The pre caption text can't be null");if("string"!=typeof e)throw new Error("The pre caption text must be a string");this._precaptionText=e,this._currentOffset=H.GetTextWidth(this.PreCaptionText+this._selectedValue,this._itemText&&this._itemText.Font?this._itemText.Font:0,.35)}get SelectedValue(){return this._selectedValue}set SelectedValue(e){this._selectedValue=e,null!=e&&(this._currentOffset=H.GetTextWidth(this.PreCaptionText+this._selectedValue,this._itemText&&this._itemText.Font?this._itemText.Font:0,this._itemText&&this._itemText.Scale?this._itemText.Scale:.35))}constructor(t,i,s="",n=null,o=null){super(t,s,o),h(this,"_itemText",void 0),h(this,"_arrowLeft",void 0),h(this,"_arrowRight",void 0),h(this,"_currentOffset",0),h(this,"_precaptionText",""),h(this,"_selectedValue",void 0),h(this,"_selectedStartValueHandler",null),h(this,"SelectionChangeHandler",null),this.isVariableFunction(i)||e.logError(`[UIMenuDynamicListItem] ${t} is not created with a valid selectionChangeHandler, needs to be function. Please see docs.`),this.isVariableFunction(n)||e.logError(`[UIMenuDynamicListItem] ${t} is not created with a valid selectedStartValueHandler, needs to be function. Please see docs.`),this.SelectionChangeHandler=i,this._selectedStartValueHandler=n;this._arrowLeft=new M("commonmenu","arrowleft",new w(110,105),new f(30,30)),this._arrowRight=new M("commonmenu","arrowright",new w(280,105),new f(30,30)),this._itemText=new V("",new w(290,104),.35,I.White,L.ChaletLondon,U.Right)}SetVerticalPosition(e){this._arrowLeft.Pos=new w(300+this.Offset.X+this.Parent.WidthOffset,147+e+this.Offset.Y),this._arrowRight.Pos=new w(400+this.Offset.X+this.Parent.WidthOffset,147+e+this.Offset.Y),this._itemText.Pos=new w(300+this.Offset.X+this.Parent.WidthOffset,e+147+this.Offset.Y),super.SetVerticalPosition(e)}SetRightLabel(e){return this}SetRightBadge(e){return this}Draw(){super.Draw(),null==this._selectedValue&&(null!=this._selectedStartValueHandler?this.SelectedValue=this._selectedStartValueHandler():this._selectedValue="");const e=this._currentOffset;this._itemText.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._itemText.Caption=this.PreCaptionText+this._selectedValue,this._arrowLeft.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._arrowRight.Color=this.Enabled?this.Selected?this.HighlightedForeColor:this.ForeColor:new I(163,159,148),this._arrowLeft.Pos=new w(380-e+this.Offset.X+this.Parent.WidthOffset,this._arrowLeft.Pos.Y),this.Selected?(this._arrowLeft.Draw(),this._arrowRight.Draw(),this._itemText.Pos=new w(405+this.Offset.X+this.Parent.WidthOffset,this._itemText.Pos.Y)):this._itemText.Pos=new w(420+this.Offset.X+this.Parent.WidthOffset,this._itemText.Pos.Y),this._itemText.Draw()}isVariableFunction(e){return e&&"[object Function]"==={}.toString.call(e)}}let j=[];class q{GetSpriteBanner(){return this._bannerSprite}GetRectangleBanner(){return this._bannerRectangle}GetTitle(){return this._titleResText}get MaxItemsVisible(){return this._maxItemsOnScreen}set MaxItemsVisible(e){this._maxItemsOnScreen=e,this._maxItem=e}get Title(){return this._titleResText.Caption}set Title(e){this._titleResText.Caption=e}get GetSubTitle(){return this._subtitleResText}get SubTitle(){return this._subtitleResText.Caption}set SubTitle(e){this._subtitleResText.Caption=e}get Visible(){return this._visible}set Visible(e){if(this._visible=e,K.PlaySound(this.AUDIO_BACK,this.AUDIO_LIBRARY),this.UpdateScaleform(),e&&this.UpdateDescriptionCaption(),!0!==this._justOpenedFromPool)if(e){if(this._justOpened=!0,this.MenuOpen.emit(),null===this.ParentMenu&&!j.includes(this)&&this!==this._poolOpening){const e=j.length?j[j.length-1]:null;j.push(this),e!==this._poolOpening&&null!==e&&(e._justClosedFromPool=!0,e.Visible=!1)}}else{if(!0===this._justClosedFromPool)return void(this._justClosedFromPool=!1);null===this.ParentMenu&&j.includes(this)&&j.length&&(j[j.length-1]===this&&(j.pop(),this._justOpenedFromPool=!0,j.length||(this._poolOpening=null)),j.length&&(this._poolOpening=j[j.length-1],j[j.length-1].Visible=!0)),0===j.length&&o.setMouseCursorSprite(1)}else this._justOpenedFromPool=!1}get CurrentSelection(){return this._activeItem%this.MenuItems.length}set CurrentSelection(e){this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!1,this._activeItem=this._maxMenuItems-this._maxMenuItems%this.MenuItems.length+e,this.CurrentSelection>this._maxItem?(this._maxItem=this.CurrentSelection,this._minItem=this.CurrentSelection-this._maxItemsOnScreen):this.CurrentSelection<this._minItem&&(this._maxItem=this._maxItemsOnScreen+this.CurrentSelection,this._minItem=this.CurrentSelection),this.IndexChange.emit(this.CurrentSelection,this.MenuItems[this._activeItem%this.MenuItems.length]),this.UpdateDescriptionCaption()}constructor(t,i,s,n,o){h(this,"_visible",!0),h(this,"_counterPretext",""),h(this,"_counterOverride",void 0),h(this,"_spriteLibrary",void 0),h(this,"_spriteName",void 0),h(this,"_offset",void 0),h(this,"_lastUpDownNavigation",0),h(this,"_lastLeftRightNavigation",0),h(this,"_extraOffset",0),h(this,"_buttonsEnabled",!0),h(this,"_justOpened",!0),h(this,"_justOpenedFromPool",!1),h(this,"_justClosedFromPool",!1),h(this,"_poolOpening",null),h(this,"_safezoneOffset",new w(0,0)),h(this,"_activeItem",1e3),h(this,"_maxItemsOnScreen",9),h(this,"_minItem",void 0),h(this,"_maxItem",this._maxItemsOnScreen),h(this,"_mouseEdgeEnabled",!0),h(this,"_bannerSprite",null),h(this,"_bannerRectangle",null),h(this,"_recalculateDescriptionNextFrame",1),h(this,"_instructionalButtons",[]),h(this,"_instructionalButtonsScaleform",void 0),h(this,"_defaultTitleScale",1.15),h(this,"_maxMenuItems",1e3),h(this,"_mainMenu",void 0),h(this,"_upAndDownSprite",void 0),h(this,"_titleResText",void 0),h(this,"_subtitleResText",void 0),h(this,"_extraRectangleUp",void 0),h(this,"_extraRectangleDown",void 0),h(this,"_descriptionBar",void 0),h(this,"_descriptionRectangle",void 0),h(this,"_descriptionText",void 0),h(this,"_counterText",void 0),h(this,"_background",void 0),h(this,"Id",v()),h(this,"SelectTextLocalized",e.getGxtText("HUD_INPUT2")),h(this,"BackTextLocalized",e.getGxtText("HUD_INPUT3")),h(this,"WidthOffset",0),h(this,"ParentMenu",null),h(this,"ParentItem",null),h(this,"Children",void 0),h(this,"MouseControlsEnabled",!1),h(this,"CloseableByUser",!0),h(this,"AUDIO_LIBRARY","HUD_FRONTEND_DEFAULT_SOUNDSET"),h(this,"AUDIO_UPDOWN","NAV_UP_DOWN"),h(this,"AUDIO_LEFTRIGHT","NAV_LEFT_RIGHT"),h(this,"AUDIO_SELECT","SELECT"),h(this,"AUDIO_BACK","BACK"),h(this,"AUDIO_ERROR","ERROR"),h(this,"MenuItems",[]),h(this,"IndexChange",new X),h(this,"ListChange",new X),h(this,"AutoListChange",new X),h(this,"DynamicListChange",new X),h(this,"SliderChange",new X),h(this,"CheckboxChange",new X),h(this,"ItemSelect",new X),h(this,"MenuOpen",new X),h(this,"MenuClose",new X),h(this,"MenuChange",new X),s instanceof w||(s=w.Parse(s)),this._spriteLibrary=n||"commonmenu",this._spriteName=o||"interaction_bgd",this._offset=new w(s.X,s.Y),this.Children=new Map,this._instructionalButtonsScaleform=new z("instructional_buttons"),this.UpdateScaleform(),this._mainMenu=new G(new w(0,0),new f(700,500),new I(0,0,0,0)),this._bannerSprite=new M(this._spriteLibrary,this._spriteName,new w(0+this._offset.X,0+this._offset.Y),new f(431,107)),this._mainMenu.addItem(this._titleResText=new V(t,new w(215+this._offset.X,20+this._offset.Y),this._defaultTitleScale,new I(255,255,255),1,U.Centered)),""!==i&&(this._mainMenu.addItem(new y(new w(0+this._offset.X,107+this._offset.Y),new f(431,37),new I(0,0,0,255))),this._mainMenu.addItem(this._subtitleResText=new V(i,new w(8+this._offset.X,110+this._offset.Y),.35,new I(255,255,255),0,U.Left)),i.startsWith("~")&&(this._counterPretext=i.substr(0,3)),this._counterText=new V("",new w(425+this._offset.X,110+this._offset.Y),.35,new I(255,255,255),0,U.Right),this._extraOffset+=37),this._upAndDownSprite=new M("commonmenu","shop_arrows_upanddown",new w(190+this._offset.X,147+37*(this._maxItemsOnScreen+1)+this._offset.Y-37+this._extraOffset),new f(50,50)),this._extraRectangleUp=new y(new w(0+this._offset.X,144+38*(this._maxItemsOnScreen+1)+this._offset.Y-37+this._extraOffset),new f(431,18),new I(0,0,0,200)),this._extraRectangleDown=new y(new w(0+this._offset.X,162+38*(this._maxItemsOnScreen+1)+this._offset.Y-37+this._extraOffset),new f(431,18),new I(0,0,0,200)),this._descriptionBar=new y(new w(this._offset.X,123),new f(431,4),I.Black),this._descriptionRectangle=new M("commonmenu","gradient_bgd",new w(this._offset.X,127),new f(431,30)),this._descriptionText=new V("",new w(this._offset.X+5,125),.35,new I(255,255,255,255),L.ChaletLondon,U.Left),this._descriptionText.Wrap=400,this._background=new M("commonmenu","gradient_bgd",new w(this._offset.X,144+this._offset.Y-37+this._extraOffset),new f(290,25)),this._visible=!1,e.everyTick(this.render.bind(this))}DisableInstructionalButtons(e){this._buttonsEnabled=!e}AddInstructionalButton(e){this._instructionalButtons.push(e)}SetSpriteBannerType(e){this._bannerRectangle=null,this.AddSpriteBannerType(e)}SetRectangleBannerType(e){this._bannerSprite=null,this._bannerRectangle=e,this._bannerRectangle.Pos=new w(this._offset.X,this._offset.Y),this._bannerRectangle.Size=new f(431+this.WidthOffset,107)}AddSpriteBannerType(e){this._bannerSprite=e,this._bannerSprite.Size=new f(431+this.WidthOffset,107),this._bannerSprite.Pos=new w(this._offset.X,this._offset.Y)}SetNoBannerType(){this._bannerSprite=null,this._bannerRectangle=new y(new w(this._offset.X,this._offset.Y),new f(431+this.WidthOffset,107),new I(0,0,0,0))}RemoveInstructionalButton(e){for(let t=0;t<this._instructionalButtons.length;t++)this._instructionalButtons[t]===e&&this._instructionalButtons.splice(t,1)}RecalculateDescriptionPosition(){const e=this.MenuItems.length>this._maxItemsOnScreen+1?this._maxItemsOnScreen+2:this.MenuItems.length;this._descriptionBar.Size=new f(431+this.WidthOffset,4),this._descriptionRectangle.Size=new f(431+this.WidthOffset,30),this._descriptionBar.Pos=new w(this._offset.X,112+this._extraOffset+this._offset.Y),this._descriptionRectangle.Pos=new w(this._offset.X,112+this._extraOffset+this._offset.Y),this._descriptionText.Pos=new w(this._offset.X+8,118+this._extraOffset+this._offset.Y),this._descriptionBar.Pos=new w(this._offset.X,38*e+this._descriptionBar.Pos.Y),this._descriptionRectangle.Pos=new w(this._offset.X,38*e+this._descriptionRectangle.Pos.Y),this._descriptionText.Pos=new w(this._offset.X+8,38*e+this._descriptionText.Pos.Y)}SetMenuWidthOffset(e){if(this.WidthOffset=e,null!=this._bannerSprite&&(this._bannerSprite.Size=new f(431+this.WidthOffset,107)),this._mainMenu.Items[0].pos=new w(215+this._offset.X+this.WidthOffset/2,20+this._offset.Y),this._counterText&&(this._counterText.Pos=new w(425+this._offset.X+e,110+this._offset.Y)),this._mainMenu.Items.length>=2){this._mainMenu.Items[1].size=new f(431+this.WidthOffset,37)}null!=this._bannerRectangle&&(this._bannerRectangle.Size=new f(431+this.WidthOffset,107))}AddItem(e){this._justOpened&&(this._justOpened=!1),e.Offset=this._offset,e.Parent=this,e.SetVerticalPosition(25*this.MenuItems.length-37+this._extraOffset),this.MenuItems.push(e),this.RefreshIndex()}RemoveItem(e){for(let t=0;t<this.MenuItems.length;t++)if(this.MenuItems[t]===e){this.MenuItems.splice(t,1);break}this.RefreshIndex()}RefreshIndex(){if(0==this.MenuItems.length)return this._activeItem=this._maxMenuItems,this._maxItem=this._maxItemsOnScreen,void(this._minItem=0);for(let e=0;e<this.MenuItems.length;e++)this.MenuItems[e].Selected=!1;this._activeItem=this._maxMenuItems-this._maxMenuItems%this.MenuItems.length,this._maxItem=this._maxItemsOnScreen,this._minItem=0,this._visible&&this.UpdateDescriptionCaption()}Clear(){this.MenuItems=[],this.RecalculateDescriptionPosition()}Open(){this.Visible=!0}CleanUp(e=!1){e&&this.Children.forEach((e=>{e.Close(!0)})),this.MenuItems.filter((e=>e instanceof Z)).forEach((e=>{e.SelectedValue=void 0})),this.RefreshIndex()}Close(e=!1){this.Visible=!1,this.CleanUp(e),this.MenuClose.emit(!0)}GoLeft(){if((this.MenuItems[this.CurrentSelection]instanceof k||this.MenuItems[this.CurrentSelection]instanceof W||this.MenuItems[this.CurrentSelection]instanceof Z||this.MenuItems[this.CurrentSelection]instanceof B)&&this.MenuItems[this.CurrentSelection].Enabled)if(this.MenuItems[this.CurrentSelection]instanceof k){const e=this.MenuItems[this.CurrentSelection];if(0==e.Collection.length)return;e.Index--,K.PlaySound(this.AUDIO_LEFTRIGHT,this.AUDIO_LIBRARY),this.ListChange.emit(e,e.Index),this.UpdateDescriptionCaption()}else if(this.MenuItems[this.CurrentSelection]instanceof W){const e=this.MenuItems[this.CurrentSelection];e.SelectedValue<=e.LowerThreshold?e.SelectedValue=e.UpperThreshold:e.SelectedValue-=e.LeftMoveThreshold,K.PlaySound(this.AUDIO_LEFTRIGHT,this.AUDIO_LIBRARY),this.AutoListChange.emit(e,e.SelectedValue,g.Left),this.UpdateDescriptionCaption()}else if(this.MenuItems[this.CurrentSelection]instanceof Z){const e=this.MenuItems[this.CurrentSelection];e.SelectionChangeHandlerPromise(e,e.SelectedValue,g.Left).then((t=>{e.SelectedValue=t,this.DynamicListChange.emit(e,e.SelectedValue,g.Left)})),K.PlaySound(this.AUDIO_LEFTRIGHT,this.AUDIO_LIBRARY),this.UpdateDescriptionCaption()}else if(this.MenuItems[this.CurrentSelection]instanceof B){const e=this.MenuItems[this.CurrentSelection];e.Index=e.Index-1,K.PlaySound(this.AUDIO_LEFTRIGHT,this.AUDIO_LIBRARY),this.SliderChange.emit(e,e.Index,e.IndexToItem(e.Index)),this.UpdateDescriptionCaption()}}GoRight(){if((this.MenuItems[this.CurrentSelection]instanceof k||this.MenuItems[this.CurrentSelection]instanceof W||this.MenuItems[this.CurrentSelection]instanceof Z||this.MenuItems[this.CurrentSelection]instanceof B)&&this.MenuItems[this.CurrentSelection].Enabled)if(this.MenuItems[this.CurrentSelection]instanceof k){const e=this.MenuItems[this.CurrentSelection];if(0==e.Collection.length)return;e.Index++,K.PlaySound(this.AUDIO_LEFTRIGHT,this.AUDIO_LIBRARY),this.ListChange.emit(e,e.Index),this.UpdateDescriptionCaption()}else if(this.MenuItems[this.CurrentSelection]instanceof W){const e=this.MenuItems[this.CurrentSelection];e.SelectedValue>=e.UpperThreshold?e.SelectedValue=e.LowerThreshold:e.SelectedValue+=e.RightMoveThreshold,K.PlaySound(this.AUDIO_LEFTRIGHT,this.AUDIO_LIBRARY),this.AutoListChange.emit(e,e.SelectedValue,g.Right),this.UpdateDescriptionCaption()}else if(this.MenuItems[this.CurrentSelection]instanceof Z){const e=this.MenuItems[this.CurrentSelection];e.SelectionChangeHandlerPromise(e,e.SelectedValue,g.Right).then((t=>{e.SelectedValue=t,this.DynamicListChange.emit(e,e.SelectedValue,g.Right)})),K.PlaySound(this.AUDIO_LEFTRIGHT,this.AUDIO_LIBRARY),this.UpdateDescriptionCaption()}else if(this.MenuItems[this.CurrentSelection]instanceof B){const e=this.MenuItems[this.CurrentSelection];e.Index++,K.PlaySound(this.AUDIO_LEFTRIGHT,this.AUDIO_LIBRARY),this.SliderChange.emit(e,e.Index,e.IndexToItem(e.Index)),this.UpdateDescriptionCaption()}}SelectItem(){if(!this.MenuItems[this.CurrentSelection].Enabled)return void K.PlaySound(this.AUDIO_ERROR,this.AUDIO_LIBRARY);const e=this.MenuItems[this.CurrentSelection];if(K.PlaySound(this.AUDIO_SELECT,this.AUDIO_LIBRARY),this.ItemSelect.emit(e,this.CurrentSelection),this.MenuItems[this.CurrentSelection]instanceof b)e.Checked=!e.Checked,this.CheckboxChange.emit(e,e.Checked);else if(this.Children.has(e.Id)){const t=this.Children.get(e.Id);this.Visible=!1,t.Visible=!0,this.MenuChange.emit(t,!0)}e.fireEvent()}HasCurrentSelectionChildren(){const e=this.MenuItems[this.CurrentSelection];return!!(this.MenuItems[this.CurrentSelection]instanceof N&&this.Children.has(e.Id))}IsMouseInListItemArrows(e,t,i){o.beginTextCommandGetWidth("jamyfafi"),o.addTextComponentSubstringPlayerName(e.Text);let s=H.ResolutionMaintainRatio;let n=1080*(s.Width/s.Height);const h=5+o.endTextCommandGetWidth(!1)*n*.35+10,r=431-h;return H.IsMouseInBounds(t,new f(h,38))?1:H.IsMouseInBounds(new w(t.X+h,t.Y),new f(r,38))?2:0}ProcessMouse(){if(!this.Visible||this._justOpened||0==this.MenuItems.length||!this.MouseControlsEnabled)return void this.MenuItems.filter((e=>e.Hovered)).forEach((e=>e.Hovered=!1));e.showCursor(!0);let t=this.MenuItems.length-1,i=0;this.MenuItems.length>this._maxItemsOnScreen+1&&(t=this._maxItem),H.IsMouseInBounds(new w(0,0),new f(30,1080))&&this._mouseEdgeEnabled?(o.setGameplayCamRelativeHeading(o.getGameplayCamRelativeHeading()+5),o.setMouseCursorSprite(6)):H.IsMouseInBounds(new w(H.ResolutionMaintainRatio.Width-30,0),new f(30,1080))&&this._mouseEdgeEnabled?(o.setGameplayCamRelativeHeading(o.getGameplayCamRelativeHeading()-5),o.setMouseCursorSprite(7)):this._mouseEdgeEnabled&&o.setMouseCursorSprite(1);for(let e=this._minItem;e<=t;e++){let t=this._offset.X,s=this._offset.Y+144-37+this._extraOffset+38*i,n=431+this.WidthOffset;const h=38,r=this.MenuItems[e];if(H.IsMouseInBounds(new w(t,s),new f(n,h))){r.Hovered=!0;const i=this.IsMouseInListItemArrows(this.MenuItems[e],new w(t,s),0);if(r.Hovered&&1==i&&(this.MenuItems[e]instanceof k||this.MenuItems[e]instanceof W||this.MenuItems[e]instanceof Z)&&o.setMouseCursorSprite(5),o.isControlJustReleased(0,24)||o.isDisabledControlJustReleased(0,24))if(r.Selected&&r.Enabled)if((this.MenuItems[e]instanceof k||this.MenuItems[e]instanceof W||this.MenuItems[e]instanceof Z)&&this.IsMouseInListItemArrows(this.MenuItems[e],new w(t,s),0)>0)switch(i){case 1:K.PlaySound(this.AUDIO_SELECT,this.AUDIO_LIBRARY),this.MenuItems[e].fireEvent(),this.ItemSelect.emit(this.MenuItems[e],e);break;case 2:let t=this.MenuItems[e];(null==t.Collection?t.Items.Count:t.Collection.Count)>0&&(t.Index++,K.PlaySound(this.AUDIO_LEFTRIGHT,this.AUDIO_LIBRARY),this.ListChange.emit(t,t.Index))}else this.SelectItem();else r.Selected?!r.Enabled&&r.Selected&&K.PlaySound(this.AUDIO_ERROR,this.AUDIO_LIBRARY):(this.CurrentSelection=e,K.PlaySound(this.AUDIO_UPDOWN,this.AUDIO_LIBRARY),this.IndexChange.emit(this.CurrentSelection,this.MenuItems[this._activeItem%this.MenuItems.length]),this.SelectItem(),this.UpdateDescriptionCaption(),this.UpdateScaleform())}else r.Hovered=!1;i++}const s=144+38*(this._maxItemsOnScreen+1)+this._offset.Y-37+this._extraOffset+this._safezoneOffset.Y,n=this._safezoneOffset.X+this._offset.X;this.MenuItems.length<=this._maxItemsOnScreen+1||(H.IsMouseInBounds(new w(n,s),new f(431+this.WidthOffset,18))?(this._extraRectangleUp.Color=new I(30,30,30,255),(o.isControlJustPressed(0,24)||o.isDisabledControlJustPressed(0,24))&&(this.MenuItems.length>this._maxItemsOnScreen+1?this.GoUpOverflow():this.GoUp())):this._extraRectangleUp.Color=new I(0,0,0,200),H.IsMouseInBounds(new w(n,s+18),new f(431+this.WidthOffset,18))?(this._extraRectangleDown.Color=new I(30,30,30,255),(o.isControlJustPressed(0,24)||o.isDisabledControlJustPressed(0,24))&&(this.MenuItems.length>this._maxItemsOnScreen+1?this.GoDownOverflow():this.GoDown())):this._extraRectangleDown.Color=new I(0,0,0,200))}ProcessControl(){this.Visible&&(this._justOpened?this._justOpened=!1:(o.isControlJustReleased(0,177)&&this.GoBack(),0!=this.MenuItems.length&&(o.isControlPressed(0,172)&&this._lastUpDownNavigation+120<Date.now()?(this._lastUpDownNavigation=Date.now(),this.MenuItems.length>this._maxItemsOnScreen+1?this.GoUpOverflow():this.GoUp(),this.UpdateScaleform()):o.isControlJustReleased(0,172)?this._lastUpDownNavigation=0:o.isControlPressed(0,173)&&this._lastUpDownNavigation+120<Date.now()?(this._lastUpDownNavigation=Date.now(),this.MenuItems.length>this._maxItemsOnScreen+1?this.GoDownOverflow():this.GoDown(),this.UpdateScaleform()):o.isControlJustReleased(0,173)?this._lastUpDownNavigation=0:o.isControlPressed(0,174)&&this._lastLeftRightNavigation+100<Date.now()?(this._lastLeftRightNavigation=Date.now(),this.GoLeft()):o.isControlJustReleased(0,174)?this._lastLeftRightNavigation=0:o.isControlPressed(0,175)&&this._lastLeftRightNavigation+100<Date.now()?(this._lastLeftRightNavigation=Date.now(),this.GoRight()):o.isControlJustReleased(0,175)?this._lastLeftRightNavigation=0:o.isControlJustReleased(0,201)&&this.SelectItem())))}GoUpOverflow(){this.MenuItems.length<=this._maxItemsOnScreen+1||(this._activeItem%this.MenuItems.length<=this._minItem?this._activeItem%this.MenuItems.length==0?(this._minItem=this.MenuItems.length-this._maxItemsOnScreen-1,this._maxItem=this.MenuItems.length-1,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!1,this._activeItem=this._maxMenuItems-this._maxMenuItems%this.MenuItems.length,this._activeItem+=this.MenuItems.length-1,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!0):(this._minItem--,this._maxItem--,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!1,this._activeItem--,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!0):(this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!1,this._activeItem--,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!0),K.PlaySound(this.AUDIO_UPDOWN,this.AUDIO_LIBRARY),this.IndexChange.emit(this.CurrentSelection,this.MenuItems[this._activeItem%this.MenuItems.length]),this.UpdateDescriptionCaption())}GoUp(){this.MenuItems.length>this._maxItemsOnScreen+1||(this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!1,this._activeItem--,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!0,K.PlaySound(this.AUDIO_UPDOWN,this.AUDIO_LIBRARY),this.IndexChange.emit(this.CurrentSelection,this.MenuItems[this._activeItem%this.MenuItems.length]),this.UpdateDescriptionCaption())}GoDownOverflow(){this.MenuItems.length<=this._maxItemsOnScreen+1||(this._activeItem%this.MenuItems.length>=this._maxItem?this._activeItem%this.MenuItems.length==this.MenuItems.length-1?(this._minItem=0,this._maxItem=this._maxItemsOnScreen,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!1,this._activeItem=this._maxMenuItems-this._maxMenuItems%this.MenuItems.length,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!0):(this._minItem++,this._maxItem++,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!1,this._activeItem++,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!0):(this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!1,this._activeItem++,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!0),K.PlaySound(this.AUDIO_UPDOWN,this.AUDIO_LIBRARY),this.IndexChange.emit(this.CurrentSelection,this.MenuItems[this._activeItem%this.MenuItems.length]),this.UpdateDescriptionCaption())}GoDown(){this.MenuItems.length>this._maxItemsOnScreen+1||(this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!1,this._activeItem++,this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!0,K.PlaySound(this.AUDIO_UPDOWN,this.AUDIO_LIBRARY),this.IndexChange.emit(this.CurrentSelection,this.MenuItems[this._activeItem%this.MenuItems.length]),this.UpdateDescriptionCaption())}GoBack(){null!=this.ParentMenu?(this.Visible=!1,this.ParentMenu.Visible=!0,this.MenuChange.emit(this.ParentMenu,!1),this.MenuClose.emit(!1)):this.CloseableByUser&&(this.Visible=!1,this.CleanUp(!0),this.MenuClose.emit(!1))}BindMenuToItem(e,t){this.MenuItems.includes(t)||this.AddItem(t),e.ParentMenu=this,e.ParentItem=t,this.Children.set(t.Id,e)}AddSubMenu(e,t){this.BindMenuToItem(e,t)}ReleaseMenuFromItem(e){if(!this.Children.has(e.Id))return!1;const t=this.Children.get(e.Id);return t.ParentItem=null,t.ParentMenu=null,this.Children.delete(e.Id),!0}UpdateDescriptionCaption(){this.MenuItems.length&&(this._descriptionText.Caption=this.MenuItems[this._activeItem%this.MenuItems.length].Description,this._descriptionText.Wrap=400,this._recalculateDescriptionNextFrame++)}CalculateDescription(){if(!(this.MenuItems.length<=0)&&(this._recalculateDescriptionNextFrame>0&&this._recalculateDescriptionNextFrame--,this.RecalculateDescriptionPosition(),this.MenuItems.length>0&&this._descriptionText.Caption&&""!==this.MenuItems[this._activeItem%this.MenuItems.length].Description.trim())){const e=H.GetLineCount(this._descriptionText.Caption,this._descriptionText.Pos,this._descriptionText.Font,this._descriptionText.Scale,this._descriptionText.Wrap);this._descriptionRectangle.Size=new f(431+this.WidthOffset,25*e+15),0===e&&this._recalculateDescriptionNextFrame++}}UpdateScaleform(){if(!this.Visible||!this._buttonsEnabled)return;this._instructionalButtonsScaleform.callFunction("CLEAR_ALL"),this._instructionalButtonsScaleform.callFunction("TOGGLE_MOUSE_BUTTONS",0),this._instructionalButtonsScaleform.callFunction("CREATE_CONTAINER"),this._instructionalButtonsScaleform.callFunction("SET_DATA_SLOT",0,o.getControlInstructionalButton(2,T.PhoneSelect,!1),this.SelectTextLocalized),this._instructionalButtonsScaleform.callFunction("SET_DATA_SLOT",1,o.getControlInstructionalButton(2,T.PhoneCancel,!1),this.BackTextLocalized);let e=2;this._instructionalButtons.filter((e=>null==e.ItemBind||this.MenuItems[this.CurrentSelection]==e.ItemBind)).forEach((t=>{this._instructionalButtonsScaleform.callFunction("SET_DATA_SLOT",e,t.GetButtonId(),t.Text),e++})),this._instructionalButtonsScaleform.callFunction("DRAW_INSTRUCTIONAL_BUTTONS",-1)}render(){if(!this.Visible)return;this._buttonsEnabled&&(o.drawScaleformMovieFullscreen(this._instructionalButtonsScaleform.handle,255,255,255,255,0),o.hideHudComponentThisFrame(6),o.hideHudComponentThisFrame(7),o.hideHudComponentThisFrame(9)),this._justOpened&&(null==this._bannerSprite||this._bannerSprite.IsTextureDictionaryLoaded||this._bannerSprite.LoadTextureDictionary(),this._background.IsTextureDictionaryLoaded||this._background.LoadTextureDictionary(),this._descriptionRectangle.IsTextureDictionaryLoaded||this._descriptionRectangle.LoadTextureDictionary(),this._upAndDownSprite.IsTextureDictionaryLoaded||this._upAndDownSprite.LoadTextureDictionary(),this._recalculateDescriptionNextFrame||this._recalculateDescriptionNextFrame++),this._mainMenu.Draw(),this.ProcessMouse(),this.ProcessControl(),this._background.Size=this.MenuItems.length>this._maxItemsOnScreen+1?new f(431+this.WidthOffset,38*(this._maxItemsOnScreen+1)):new f(431+this.WidthOffset,38*this.MenuItems.length),this._background.Draw(),this._recalculateDescriptionNextFrame&&this.CalculateDescription(),this.MenuItems.length>0&&(this.MenuItems[this._activeItem%this.MenuItems.length].Selected=!0,""!==this.MenuItems[this._activeItem%this.MenuItems.length].Description.trim()&&(this._descriptionBar.Draw(),this._descriptionRectangle.Draw(),this._descriptionText.Draw()));let e=0;if(this.MenuItems.length<=this._maxItemsOnScreen+1){for(const t of this.MenuItems)t.SetVerticalPosition(38*e-37+this._extraOffset),t.Draw(),e++;this._counterText&&this._counterOverride&&(this._counterText.Caption=this._counterPretext+this._counterOverride,this._counterText.Draw())}else{for(let t=this._minItem;t<=this._maxItem;t++){let i=this.MenuItems[t];i.SetVerticalPosition(38*e-37+this._extraOffset),i.Draw(),e++}if(this._extraRectangleUp.Size=new f(431+this.WidthOffset,18),this._extraRectangleDown.Size=new f(431+this.WidthOffset,18),this._upAndDownSprite.Pos=new w(190+this._offset.X+this.WidthOffset/2,147+37*(this._maxItemsOnScreen+1)+this._offset.Y-37+this._extraOffset),this._extraRectangleUp.Draw(),this._extraRectangleDown.Draw(),this._upAndDownSprite.Draw(),this._counterText){if(this._counterOverride)this._counterText.Caption=this._counterPretext+this._counterOverride;else{const e=this.CurrentSelection+1+" / "+this.MenuItems.length;this._counterText.Caption=this._counterPretext+e}this._counterText.Draw()}}null!=this._bannerRectangle&&this._bannerRectangle.Draw(),null!=this._bannerSprite&&this._bannerSprite.Draw()}}var $;!function(e){e[e.None=0]="None",e[e.Item=1]="Item",e[e.AutoListItem=2]="AutoListItem",e[e.CheckboxItem=3]="CheckboxItem",e[e.DynamicListItem=4]="DynamicListItem",e[e.ListItem=5]="ListItem",e[e.SliderItem=6]="SliderItem"}($||($={}));class Q{constructor(){h(this,"dynamicListSelectionIndex",void 0),h(this,"dynamicListSelection",void 0),this.dynamicListSelectionIndex=0,this.dynamicListSelection=null,e.onServer("TTT:MenuHandler:CreateNewMenu",this.onCreateNewMenu.bind(this))}onCreateNewMenu(t){let i=JSON.parse(t),s=new q(i.Title,i.SubTitle,new w(50,50),i.SpriteLibrary,i.SpriteName);this.createMenuItems(s,i.Items),s.ItemSelect.on((t=>{e.emitServer("TTT:MenuHandler:MenuInteraction",t.Data,this.dynamicListSelection)})),s.MenuClose.on((t=>{e.emitServer("TTT:MenuHandler:MenuClose")})),s.Visible=!0,s.Open()}createMenuItems(e,t){t.forEach((t=>{let i;switch(t.ItemData.ItemType){case $.AutoListItem:i=new W(t.Text,t.Description,t.LowerThreshold,t.UpperThreshold,t.StartValue);break;case $.CheckboxItem:i=new b(t.Text,t.Checked,t.Description);break;case $.DynamicListItem:i=new Z(t.Text,((e,i,s)=>this.onSelectionChanged(e,i,s,t.CollectionData)),t.Description,(()=>this.onSelectedStartValueHandler(t.CollectionData)),t.ItemData);break;case $.Item:i=new N(t.Text,t.Description),i.RightLabel=t.RightLabel;break;case $.ListItem:i=new k(t.Text,t.Description);break;case $.SliderItem:i=new B(t.Text,t.CollectionData,0,t.Description,!0,t.ItemData)}i.Data=JSON.stringify(t.ItemData),e.AddItem(i)}))}onSelectedStartValueHandler(e){return this.dynamicListSelection=e[0],e[0]}onSelectionChanged(e,t,i,s){return i==g.Right?(this.dynamicListSelectionIndex++,this.dynamicListSelectionIndex>=s.length&&(this.dynamicListSelectionIndex=0)):(this.dynamicListSelectionIndex--,this.dynamicListSelectionIndex<0&&(this.dynamicListSelectionIndex=s.length-1)),this.dynamicListSelection=s[this.dynamicListSelectionIndex],s[this.dynamicListSelectionIndex]}}class ee{constructor(t){h(this,"browserInstance",void 0),this.browserInstance=t,e.onServer("TTT:NotificationHandler:NewNotification",this.onNewNotification.bind(this))}sendNotification(e,t,i,s=3500){this.onNewNotification(e,t,i,s)}onNewNotification(e,t,i,s){var n;null===(n=this.browserInstance)||void 0===n||n.emit("TTT:NotificationView:NewNotification",e,t,i,s)}}class te{constructor(){h(this,"coolDown",void 0),this.coolDown=new Date,e.on("keydown",this.onKeyDown.bind(this)),e.on("leftVehicle",this.onLeftVehicle.bind(this)),e.on("enteredVehicle",this.onEnteredVehicle.bind(this)),e.onServer("TTT:Client:VehicleHandler:PlayerEnteringVehicle",this.onPlayerEnteringVehicle.bind(this)),e.onServer("TTT:Client:VehicleHandler:LockVehicle",this.onLockVehicle.bind(this))}onKeyDown(e){switch(e){case 76:this.tryLockVehicle();break;case 88:this.toggleVehicleEngine()}}toggleVehicleEngine(){e.Player.local.vehicle&&1===e.Player.local.seat&&e.emitServer("TTT:VehicleHandler:ToggleVehicleEngine",e.Player.local.vehicle)}onLeftVehicle(e){o.displayRadar(!1)}onEnteredVehicle(t,i){o.displayRadar(!0),(null==t?void 0:t.getStreamSyncedMeta("OwnerId"))!=e.Player.local.getStreamSyncedMeta("Id")&&e.Player.local.sendNotification(1,"Info","Du kannst dieses auch kurzschlieen!",4500)}onPlayerEnteringVehicle(t){o.isVehicleDriveable(t.scriptID,!1)&&(e.log("player entering vehicle"),null!=t&&t.getStreamSyncedMeta("Locked")?e.log("vehicle locked"):o.taskEnterVehicle(e.Player.local.scriptID,t.scriptID,1e4,1,1,1,0))}tryLockVehicle(){if(!e.Player.local.canInteract(this.coolDown))return;let t=a.getClosestVehicle(e.Player.local)[0];(null==t?void 0:t.getStreamSyncedMeta("OwnerId"))==e.Player.local.getStreamSyncedMeta("Id")&&e.emitServer("TTT:VehicleHandler:LockVehicle",t),this.coolDown=new Date}onLockVehicle(t,i){let s=t.scriptID;i?(o.setVehicleDoorsLocked(s,2),o.setVehicleLights(s,2),o.playVehicleDoorCloseSound(s,0),e.setTimeout((()=>{o.setVehicleLights(s,1),e.setTimeout((()=>{o.setVehicleLights(s,2),e.setTimeout((()=>{o.setVehicleLights(s,0)}),100)}),100)}),100)):(o.setVehicleDoorsLocked(s,1),o.setVehicleLights(s,2),o.playVehicleDoorOpenSound(s,0),e.setTimeout((()=>{o.setVehicleLights(s,1),e.setTimeout((()=>{o.setVehicleLights(s,2),e.setTimeout((()=>{o.setVehicleLights(s,0)}),100)}),100)}),100))}}class ie{constructor(){h(this,"streamedInVehicles",void 0),e.on("gameEntityCreate",(t=>{t instanceof e.Vehicle&&this.streamedInVehicles&&(this.streamedInVehicles[t.id]=t)})),e.on("gameEntityDestroy",(t=>{t instanceof e.Vehicle&&this.streamedInVehicles&&delete this.streamedInVehicles[t.id]})),e.everyTick(this.onEveryTick)}onEveryTick(){}}const se=new class{constructor(){h(this,"notificationService",void 0),h(this,"browserInstance",void 0),e.everyTick(this.onEveryTick.bind(this))}SetupAsync(){return new Promise((async(t,i)=>{this.browserInstance=await r.getInstance(),this.setupLoginScene(),this.browserInstance||i(),new l(this.browserInstance),new u,new c,new Q,new te,new ie,this.notificationService=new ee(this.browserInstance),e.onServer("TTT:Utils:SetPedIntoVehicle",a.setPedIntoVehicle),e.onServer("TTT:Utils:SetVehicleEngineMultiplier",a.setVehicleEngineMultiplier),t()}))}onEveryTick(){o.setPedConfigFlag(e.Player.local,241,!0),o.setPedConfigFlag(e.Player.local,429,!0),o.setPedConfigFlag(e.Player.local,35,!0)}setupLoginScene(){o.freezeEntityPosition(e.Player.local.scriptID,!0),o.setEntityCoords(e.Player.local.scriptID,866.9821,1256.2087,401.9878,!1,!1,!1,!1);let t=o.createCamWithParams("DEFAULT_SCRIPTED_CAMERA",866.9821,1256.2087,451.9878,0,0,0,80,!1,0);o.setCamActive(t,!0),o.setCamRot(t,-23.071,0,154.3693,2),o.renderScriptCams(!0,!1,0,!0,!1,0),o.setCamAffectsAiming(t,!1),o.setClockTime(20,0,0),o.pauseClock(!0),o.setWeatherTypeNow("CLEAR"),o.displayRadar(!1),o.displayAreaName(!1),e.beginScaleformMovieMethodMinimap("SETUP_HEALTH_ARMOUR"),o.scaleformMovieMethodAddParamInt(3),o.endScaleformMovieMethod(),o.replaceHudColourWithRgba(143,80,64,255,255),o.replaceHudColourWithRgba(116,80,64,255,255)}};s.prototype.canInteract=e=>(e.setMilliseconds(e.getMilliseconds()+350),e<=new Date),s.prototype.sendNotification=(e,t,i,s=3500)=>{se.notificationService.sendNotification(e,t,i,s)},se.SetupAsync().then((()=>{e.log("[Client] Gamemode: Setup finished!")})).catch((()=>{e.log("[Client] Gamemode: Setup failed, please contact support!")}));
